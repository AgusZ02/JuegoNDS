var wn=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var oo=wn((fn,tr)=>{(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const f of a)if(f.type==="childList")for(const l of f.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const f={};return a.integrity&&(f.integrity=a.integrity),a.referrerPolicy&&(f.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?f.credentials="include":a.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(a){if(a.ep)return;a.ep=!0;const f=t(a);fetch(a.href,f)}})();(function(e){typeof fn=="object"&&typeof tr<"u"?tr.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).localforage=e()})(function(){return function e(r,t,o){function a(d,E){if(!t[d]){if(!r[d]){var x=typeof require=="function"&&require;if(!E&&x)return x(d,!0);if(f)return f(d,!0);var F=new Error("Cannot find module '"+d+"'");throw F.code="MODULE_NOT_FOUND",F}var C=t[d]={exports:{}};r[d][0].call(C.exports,function(A){var P=r[d][1][A];return a(P||A)},C,C.exports,e,r,t,o)}return t[d].exports}for(var f=typeof require=="function"&&require,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(e,r,t){(function(o){var a,f,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var d=0,E=new l(A),x=o.document.createTextNode("");E.observe(x,{characterData:!0}),a=function(){x.data=d=++d%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var P=o.document.createElement("script");P.onreadystatechange=function(){A(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},o.document.documentElement.appendChild(P)}:function(){setTimeout(A,0)};else{var F=new o.MessageChannel;F.port1.onmessage=A,a=function(){F.port2.postMessage(0)}}var C=[];function A(){var P,V;f=!0;for(var S=C.length;S;){for(V=C,C=[],P=-1;++P<S;)V[P]();S=C.length}f=!1}r.exports=function(P){C.push(P)!==1||f||a()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(e,r,t){var o=e(1);function a(){}var f={},l=["REJECTED"],d=["FULFILLED"],E=["PENDING"];function x(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,S!==a&&P(this,S)}function F(S,q,y){this.promise=S,typeof q=="function"&&(this.onFulfilled=q,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function C(S,q,y){o(function(){var h;try{h=q(y)}catch(_){return f.reject(S,_)}h===S?f.reject(S,new TypeError("Cannot resolve promise with itself")):f.resolve(S,h)})}function A(S){var q=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof q=="function")return function(){q.apply(S,arguments)}}function P(S,q){var y=!1;function h(L){y||(y=!0,f.reject(S,L))}function _(L){y||(y=!0,f.resolve(S,L))}var U=V(function(){q(_,h)});U.status==="error"&&h(U.value)}function V(S,q){var y={};try{y.value=S(q),y.status="success"}catch(h){y.status="error",y.value=h}return y}r.exports=x,x.prototype.catch=function(S){return this.then(null,S)},x.prototype.then=function(S,q){if(typeof S!="function"&&this.state===d||typeof q!="function"&&this.state===l)return this;var y=new this.constructor(a);return this.state!==E?C(y,this.state===d?S:q,this.outcome):this.queue.push(new F(y,S,q)),y},F.prototype.callFulfilled=function(S){f.resolve(this.promise,S)},F.prototype.otherCallFulfilled=function(S){C(this.promise,this.onFulfilled,S)},F.prototype.callRejected=function(S){f.reject(this.promise,S)},F.prototype.otherCallRejected=function(S){C(this.promise,this.onRejected,S)},f.resolve=function(S,q){var y=V(A,q);if(y.status==="error")return f.reject(S,y.value);var h=y.value;if(h)P(S,h);else{S.state=d,S.outcome=q;for(var _=-1,U=S.queue.length;++_<U;)S.queue[_].callFulfilled(q)}return S},f.reject=function(S,q){S.state=l,S.outcome=q;for(var y=-1,h=S.queue.length;++y<h;)S.queue[y].callRejected(q);return S},x.resolve=function(S){return S instanceof this?S:f.resolve(new this(a),S)},x.reject=function(S){var q=new this(a);return f.reject(q,S)},x.all=function(S){var q=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=S.length,h=!1;if(!y)return this.resolve([]);for(var _=new Array(y),U=0,L=-1,z=new this(a);++L<y;)$(S[L],L);return z;function $(ee,ce){q.resolve(ee).then(function(oe){_[ce]=oe,++U!==y||h||(h=!0,f.resolve(z,_))},function(oe){h||(h=!0,f.reject(z,oe))})}},x.race=function(S){var q=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=S.length,h=!1;if(!y)return this.resolve([]);for(var _=-1,U=new this(a);++_<y;)L=S[_],q.resolve(L).then(function(z){h||(h=!0,f.resolve(U,z))},function(z){h||(h=!0,f.reject(U,z))});var L;return U}},{1:1}],3:[function(e,r,t){(function(o){typeof o.Promise!="function"&&(o.Promise=e(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(e,r,t){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},a=function(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function f(i,c){i=i||[],c=c||{};try{return new Blob(i,c)}catch(p){if(p.name!=="TypeError")throw p;for(var u=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),v=0;v<i.length;v+=1)u.append(i[v]);return u.getBlob(c.type)}}typeof Promise>"u"&&e(3);var l=Promise;function d(i,c){c&&i.then(function(u){c(null,u)},function(u){c(u)})}function E(i,c,u){typeof c=="function"&&i.then(c),typeof u=="function"&&i.catch(u)}function x(i){return typeof i!="string"&&(console.warn(i+" used as a key, but it is not a string."),i=String(i)),i}function F(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var C="local-forage-detect-blob-support",A=void 0,P={},V=Object.prototype.toString,S="readonly",q="readwrite";function y(i){return typeof A=="boolean"?l.resolve(A):function(c){return new l(function(u){var v=c.transaction(C,q),p=f([""]);v.objectStore(C).put(p,"key"),v.onabort=function(m){m.preventDefault(),m.stopPropagation(),u(!1)},v.oncomplete=function(){var m=navigator.userAgent.match(/Chrome\/(\d+)/),w=navigator.userAgent.match(/Edge\//);u(w||!m||parseInt(m[1],10)>=43)}}).catch(function(){return!1})}(i).then(function(c){return A=c})}function h(i){var c=P[i.name],u={};u.promise=new l(function(v,p){u.resolve=v,u.reject=p}),c.deferredOperations.push(u),c.dbReady?c.dbReady=c.dbReady.then(function(){return u.promise}):c.dbReady=u.promise}function _(i){var c=P[i.name].deferredOperations.pop();if(c)return c.resolve(),c.promise}function U(i,c){var u=P[i.name].deferredOperations.pop();if(u)return u.reject(c),u.promise}function L(i,c){return new l(function(u,v){if(P[i.name]=P[i.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},i.db){if(!c)return u(i.db);h(i),i.db.close()}var p=[i.name];c&&p.push(i.version);var m=a.open.apply(a,p);c&&(m.onupgradeneeded=function(w){var k=m.result;try{k.createObjectStore(i.storeName),w.oldVersion<=1&&k.createObjectStore(C)}catch(b){if(b.name!=="ConstraintError")throw b;console.warn('The database "'+i.name+'" has been upgraded from version '+w.oldVersion+" to version "+w.newVersion+', but the storage "'+i.storeName+'" already exists.')}}),m.onerror=function(w){w.preventDefault(),v(m.error)},m.onsuccess=function(){u(m.result),_(i)}})}function z(i){return L(i,!1)}function $(i){return L(i,!0)}function ee(i,c){if(!i.db)return!0;var u=!i.db.objectStoreNames.contains(i.storeName),v=i.version<i.db.version,p=i.version>i.db.version;if(v&&(i.version!==c&&console.warn('The database "'+i.name+`" can't be downgraded from version `+i.db.version+" to version "+i.version+"."),i.version=i.db.version),p||u){if(u){var m=i.db.version+1;m>i.version&&(i.version=m)}return!0}return!1}function ce(i){return f([function(c){for(var u=c.length,v=new ArrayBuffer(u),p=new Uint8Array(v),m=0;m<u;m++)p[m]=c.charCodeAt(m);return v}(atob(i.data))],{type:i.type})}function oe(i){return i&&i.__local_forage_encoded_blob}function Me(i){var c=this,u=c._initReady().then(function(){var v=P[c._dbInfo.name];if(v&&v.dbReady)return v.dbReady});return E(u,i,i),u}function K(i,c,u,v){v===void 0&&(v=1);try{var p=i.db.transaction(i.storeName,c);u(null,p)}catch(m){if(v>0&&(!i.db||m.name==="InvalidStateError"||m.name==="NotFoundError"))return l.resolve().then(function(){if(!i.db||m.name==="NotFoundError"&&!i.db.objectStoreNames.contains(i.storeName)&&i.version<=i.db.version)return i.db&&(i.version=i.db.version+1),$(i)}).then(function(){return function(w){h(w);for(var k=P[w.name],b=k.forages,D=0;D<b.length;D++){var O=b[D];O._dbInfo.db&&(O._dbInfo.db.close(),O._dbInfo.db=null)}return w.db=null,z(w).then(function(T){return w.db=T,ee(w)?$(w):T}).then(function(T){w.db=k.db=T;for(var W=0;W<b.length;W++)b[W]._dbInfo.db=T}).catch(function(T){throw U(w,T),T})}(i).then(function(){K(i,c,u,v-1)})}).catch(u);u(m)}}var ue={_driver:"asyncStorage",_initStorage:function(i){var c=this,u={db:null};if(i)for(var v in i)u[v]=i[v];var p=P[u.name];p||(p={forages:[],db:null,dbReady:null,deferredOperations:[]},P[u.name]=p),p.forages.push(c),c._initReady||(c._initReady=c.ready,c.ready=Me);var m=[];function w(){return l.resolve()}for(var k=0;k<p.forages.length;k++){var b=p.forages[k];b!==c&&m.push(b._initReady().catch(w))}var D=p.forages.slice(0);return l.all(m).then(function(){return u.db=p.db,z(u)}).then(function(O){return u.db=O,ee(u,c._defaultConfig.version)?$(u):O}).then(function(O){u.db=p.db=O,c._dbInfo=u;for(var T=0;T<D.length;T++){var W=D[T];W!==c&&(W._dbInfo.db=u.db,W._dbInfo.version=u.version)}})},_support:function(){try{if(!a)return!1;var i=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),c=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!i||c)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function(i,c){var u=this,v=new l(function(p,m){u.ready().then(function(){K(u._dbInfo,S,function(w,k){if(w)return m(w);try{var b=k.objectStore(u._dbInfo.storeName).openCursor(),D=1;b.onsuccess=function(){var O=b.result;if(O){var T=O.value;oe(T)&&(T=ce(T));var W=i(T,O.key,D++);W!==void 0?p(W):O.continue()}else p()},b.onerror=function(){m(b.error)}}catch(O){m(O)}})}).catch(m)});return d(v,c),v},getItem:function(i,c){var u=this;i=x(i);var v=new l(function(p,m){u.ready().then(function(){K(u._dbInfo,S,function(w,k){if(w)return m(w);try{var b=k.objectStore(u._dbInfo.storeName).get(i);b.onsuccess=function(){var D=b.result;D===void 0&&(D=null),oe(D)&&(D=ce(D)),p(D)},b.onerror=function(){m(b.error)}}catch(D){m(D)}})}).catch(m)});return d(v,c),v},setItem:function(i,c,u){var v=this;i=x(i);var p=new l(function(m,w){var k;v.ready().then(function(){return k=v._dbInfo,V.call(c)==="[object Blob]"?y(k.db).then(function(b){return b?c:(D=c,new l(function(O,T){var W=new FileReader;W.onerror=T,W.onloadend=function(X){var Q=btoa(X.target.result||"");O({__local_forage_encoded_blob:!0,data:Q,type:D.type})},W.readAsBinaryString(D)}));var D}):c}).then(function(b){K(v._dbInfo,q,function(D,O){if(D)return w(D);try{var T=O.objectStore(v._dbInfo.storeName);b===null&&(b=void 0);var W=T.put(b,i);O.oncomplete=function(){b===void 0&&(b=null),m(b)},O.onabort=O.onerror=function(){var X=W.error?W.error:W.transaction.error;w(X)}}catch(X){w(X)}})}).catch(w)});return d(p,u),p},removeItem:function(i,c){var u=this;i=x(i);var v=new l(function(p,m){u.ready().then(function(){K(u._dbInfo,q,function(w,k){if(w)return m(w);try{var b=k.objectStore(u._dbInfo.storeName).delete(i);k.oncomplete=function(){p()},k.onerror=function(){m(b.error)},k.onabort=function(){var D=b.error?b.error:b.transaction.error;m(D)}}catch(D){m(D)}})}).catch(m)});return d(v,c),v},clear:function(i){var c=this,u=new l(function(v,p){c.ready().then(function(){K(c._dbInfo,q,function(m,w){if(m)return p(m);try{var k=w.objectStore(c._dbInfo.storeName).clear();w.oncomplete=function(){v()},w.onabort=w.onerror=function(){var b=k.error?k.error:k.transaction.error;p(b)}}catch(b){p(b)}})}).catch(p)});return d(u,i),u},length:function(i){var c=this,u=new l(function(v,p){c.ready().then(function(){K(c._dbInfo,S,function(m,w){if(m)return p(m);try{var k=w.objectStore(c._dbInfo.storeName).count();k.onsuccess=function(){v(k.result)},k.onerror=function(){p(k.error)}}catch(b){p(b)}})}).catch(p)});return d(u,i),u},key:function(i,c){var u=this,v=new l(function(p,m){i<0?p(null):u.ready().then(function(){K(u._dbInfo,S,function(w,k){if(w)return m(w);try{var b=k.objectStore(u._dbInfo.storeName),D=!1,O=b.openCursor();O.onsuccess=function(){var T=O.result;T?i===0||D?p(T.key):(D=!0,T.advance(i)):p(null)},O.onerror=function(){m(O.error)}}catch(T){m(T)}})}).catch(m)});return d(v,c),v},keys:function(i){var c=this,u=new l(function(v,p){c.ready().then(function(){K(c._dbInfo,S,function(m,w){if(m)return p(m);try{var k=w.objectStore(c._dbInfo.storeName).openCursor(),b=[];k.onsuccess=function(){var D=k.result;D?(b.push(D.key),D.continue()):v(b)},k.onerror=function(){p(k.error)}}catch(D){p(D)}})}).catch(p)});return d(u,i),u},dropInstance:function(i,c){c=F.apply(this,arguments);var u,v=this.config();if((i=typeof i!="function"&&i||{}).name||(i.name=i.name||v.name,i.storeName=i.storeName||v.storeName),i.name){var p=i.name===v.name&&this._dbInfo.db?l.resolve(this._dbInfo.db):z(i).then(function(m){var w=P[i.name],k=w.forages;w.db=m;for(var b=0;b<k.length;b++)k[b]._dbInfo.db=m;return m});u=i.storeName?p.then(function(m){if(m.objectStoreNames.contains(i.storeName)){var w=m.version+1;h(i);var k=P[i.name],b=k.forages;m.close();for(var D=0;D<b.length;D++){var O=b[D];O._dbInfo.db=null,O._dbInfo.version=w}return new l(function(T,W){var X=a.open(i.name,w);X.onerror=function(Q){X.result.close(),W(Q)},X.onupgradeneeded=function(){X.result.deleteObjectStore(i.storeName)},X.onsuccess=function(){var Q=X.result;Q.close(),T(Q)}}).then(function(T){k.db=T;for(var W=0;W<b.length;W++){var X=b[W];X._dbInfo.db=T,_(X._dbInfo)}}).catch(function(T){throw(U(i,T)||l.resolve()).catch(function(){}),T})}}):p.then(function(m){h(i);var w=P[i.name],k=w.forages;m.close();for(var b=0;b<k.length;b++)k[b]._dbInfo.db=null;return new l(function(D,O){var T=a.deleteDatabase(i.name);T.onerror=T.onblocked=function(W){var X=T.result;X&&X.close(),O(W)},T.onsuccess=function(){var W=T.result;W&&W.close(),D(W)}}).then(function(D){w.db=D;for(var O=0;O<k.length;O++)_(k[O]._dbInfo)}).catch(function(D){throw(U(i,D)||l.resolve()).catch(function(){}),D})})}else u=l.reject("Invalid arguments");return d(u,c),u}},Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te="~~local_forage_type~",fe=/^~~local_forage_type~([^~]+)~/,pe="__lfsc__:",de=pe.length,he="arbf",ye="blob",Fe="si08",or="ui08",j="uic8",g="si16",H="si32",N="ur16",M="ui32",I="fl32",B="fl64",G=de+he.length,ne=Object.prototype.toString;function ve(i){var c,u,v,p,m,w=.75*i.length,k=i.length,b=0;i[i.length-1]==="="&&(w--,i[i.length-2]==="="&&w--);var D=new ArrayBuffer(w),O=new Uint8Array(D);for(c=0;c<k;c+=4)u=Z.indexOf(i[c]),v=Z.indexOf(i[c+1]),p=Z.indexOf(i[c+2]),m=Z.indexOf(i[c+3]),O[b++]=u<<2|v>>4,O[b++]=(15&v)<<4|p>>2,O[b++]=(3&p)<<6|63&m;return D}function Re(i){var c,u=new Uint8Array(i),v="";for(c=0;c<u.length;c+=3)v+=Z[u[c]>>2],v+=Z[(3&u[c])<<4|u[c+1]>>4],v+=Z[(15&u[c+1])<<2|u[c+2]>>6],v+=Z[63&u[c+2]];return u.length%3==2?v=v.substring(0,v.length-1)+"=":u.length%3==1&&(v=v.substring(0,v.length-2)+"=="),v}var xe={serialize:function(i,c){var u="";if(i&&(u=ne.call(i)),i&&(u==="[object ArrayBuffer]"||i.buffer&&ne.call(i.buffer)==="[object ArrayBuffer]")){var v,p=pe;i instanceof ArrayBuffer?(v=i,p+=he):(v=i.buffer,u==="[object Int8Array]"?p+=Fe:u==="[object Uint8Array]"?p+=or:u==="[object Uint8ClampedArray]"?p+=j:u==="[object Int16Array]"?p+=g:u==="[object Uint16Array]"?p+=N:u==="[object Int32Array]"?p+=H:u==="[object Uint32Array]"?p+=M:u==="[object Float32Array]"?p+=I:u==="[object Float64Array]"?p+=B:c(new Error("Failed to get type for BinaryArray"))),c(p+Re(v))}else if(u==="[object Blob]"){var m=new FileReader;m.onload=function(){var w=te+i.type+"~"+Re(this.result);c(pe+ye+w)},m.readAsArrayBuffer(i)}else try{c(JSON.stringify(i))}catch(w){console.error("Couldn't convert value into a JSON string: ",i),c(null,w)}},deserialize:function(i){if(i.substring(0,de)!==pe)return JSON.parse(i);var c,u=i.substring(G),v=i.substring(de,G);if(v===ye&&fe.test(u)){var p=u.match(fe);c=p[1],u=u.substring(p[0].length)}var m=ve(u);switch(v){case he:return m;case ye:return f([m],{type:c});case Fe:return new Int8Array(m);case or:return new Uint8Array(m);case j:return new Uint8ClampedArray(m);case g:return new Int16Array(m);case N:return new Uint16Array(m);case H:return new Int32Array(m);case M:return new Uint32Array(m);case I:return new Float32Array(m);case B:return new Float64Array(m);default:throw new Error("Unkown type: "+v)}},stringToBuffer:ve,bufferToString:Re};function Pe(i,c,u,v){i.executeSql("CREATE TABLE IF NOT EXISTS "+c.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],u,v)}function se(i,c,u,v,p,m){i.executeSql(u,v,p,function(w,k){k.code===k.SYNTAX_ERR?w.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[c.storeName],function(b,D){D.rows.length?m(b,k):Pe(b,c,function(){b.executeSql(u,v,p,m)},m)},m):m(w,k)},m)}var We={_driver:"webSQLStorage",_initStorage:function(i){var c=this,u={db:null};if(i)for(var v in i)u[v]=typeof i[v]!="string"?i[v].toString():i[v];var p=new l(function(m,w){try{u.db=openDatabase(u.name,String(u.version),u.description,u.size)}catch(k){return w(k)}u.db.transaction(function(k){Pe(k,u,function(){c._dbInfo=u,m()},function(b,D){w(D)})},w)});return u.serializer=xe,p},_support:typeof openDatabase=="function",iterate:function(i,c){var u=this,v=new l(function(p,m){u.ready().then(function(){var w=u._dbInfo;w.db.transaction(function(k){se(k,w,"SELECT * FROM "+w.storeName,[],function(b,D){for(var O=D.rows,T=O.length,W=0;W<T;W++){var X=O.item(W),Q=X.value;if(Q&&(Q=w.serializer.deserialize(Q)),(Q=i(Q,X.key,W+1))!==void 0)return void p(Q)}p()},function(b,D){m(D)})})}).catch(m)});return d(v,c),v},getItem:function(i,c){var u=this;i=x(i);var v=new l(function(p,m){u.ready().then(function(){var w=u._dbInfo;w.db.transaction(function(k){se(k,w,"SELECT * FROM "+w.storeName+" WHERE key = ? LIMIT 1",[i],function(b,D){var O=D.rows.length?D.rows.item(0).value:null;O&&(O=w.serializer.deserialize(O)),p(O)},function(b,D){m(D)})})}).catch(m)});return d(v,c),v},setItem:function(i,c,u){return(function v(p,m,w,k){var b=this;p=x(p);var D=new l(function(O,T){b.ready().then(function(){m===void 0&&(m=null);var W=m,X=b._dbInfo;X.serializer.serialize(m,function(Q,we){we?T(we):X.db.transaction(function(Ie){se(Ie,X,"INSERT OR REPLACE INTO "+X.storeName+" (key, value) VALUES (?, ?)",[p,Q],function(){O(W)},function(Ce,Nr){T(Nr)})},function(Ie){if(Ie.code===Ie.QUOTA_ERR){if(k>0)return void O(v.apply(b,[p,W,w,k-1]));T(Ie)}})})}).catch(T)});return d(D,w),D}).apply(this,[i,c,u,1])},removeItem:function(i,c){var u=this;i=x(i);var v=new l(function(p,m){u.ready().then(function(){var w=u._dbInfo;w.db.transaction(function(k){se(k,w,"DELETE FROM "+w.storeName+" WHERE key = ?",[i],function(){p()},function(b,D){m(D)})})}).catch(m)});return d(v,c),v},clear:function(i){var c=this,u=new l(function(v,p){c.ready().then(function(){var m=c._dbInfo;m.db.transaction(function(w){se(w,m,"DELETE FROM "+m.storeName,[],function(){v()},function(k,b){p(b)})})}).catch(p)});return d(u,i),u},length:function(i){var c=this,u=new l(function(v,p){c.ready().then(function(){var m=c._dbInfo;m.db.transaction(function(w){se(w,m,"SELECT COUNT(key) as c FROM "+m.storeName,[],function(k,b){var D=b.rows.item(0).c;v(D)},function(k,b){p(b)})})}).catch(p)});return d(u,i),u},key:function(i,c){var u=this,v=new l(function(p,m){u.ready().then(function(){var w=u._dbInfo;w.db.transaction(function(k){se(k,w,"SELECT key FROM "+w.storeName+" WHERE id = ? LIMIT 1",[i+1],function(b,D){var O=D.rows.length?D.rows.item(0).key:null;p(O)},function(b,D){m(D)})})}).catch(m)});return d(v,c),v},keys:function(i){var c=this,u=new l(function(v,p){c.ready().then(function(){var m=c._dbInfo;m.db.transaction(function(w){se(w,m,"SELECT key FROM "+m.storeName,[],function(k,b){for(var D=[],O=0;O<b.rows.length;O++)D.push(b.rows.item(O).key);v(D)},function(k,b){p(b)})})}).catch(p)});return d(u,i),u},dropInstance:function(i,c){c=F.apply(this,arguments);var u=this.config();(i=typeof i!="function"&&i||{}).name||(i.name=i.name||u.name,i.storeName=i.storeName||u.storeName);var v,p=this;return d(v=i.name?new l(function(m){var w;w=i.name===u.name?p._dbInfo.db:openDatabase(i.name,"","",0),i.storeName?m({db:w,storeNames:[i.storeName]}):m(function(k){return new l(function(b,D){k.transaction(function(O){O.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(T,W){for(var X=[],Q=0;Q<W.rows.length;Q++)X.push(W.rows.item(Q).name);b({db:k,storeNames:X})},function(T,W){D(W)})},function(O){D(O)})})}(w))}).then(function(m){return new l(function(w,k){m.db.transaction(function(b){function D(X){return new l(function(Q,we){b.executeSql("DROP TABLE IF EXISTS "+X,[],function(){Q()},function(Ie,Ce){we(Ce)})})}for(var O=[],T=0,W=m.storeNames.length;T<W;T++)O.push(D(m.storeNames[T]));l.all(O).then(function(){w()}).catch(function(X){k(X)})},function(b){k(b)})})}):l.reject("Invalid arguments"),c),v}};function qe(i,c){var u=i.name+"/";return i.storeName!==c.storeName&&(u+=i.storeName+"/"),u}function ln(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch{return!0}}()||localStorage.length>0}var dn={_driver:"localStorageWrapper",_initStorage:function(i){var c={};if(i)for(var u in i)c[u]=i[u];return c.keyPrefix=qe(i,this._defaultConfig),ln()?(this._dbInfo=c,c.serializer=xe,l.resolve()):l.reject()},_support:function(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function(i,c){var u=this,v=u.ready().then(function(){for(var p=u._dbInfo,m=p.keyPrefix,w=m.length,k=localStorage.length,b=1,D=0;D<k;D++){var O=localStorage.key(D);if(O.indexOf(m)===0){var T=localStorage.getItem(O);if(T&&(T=p.serializer.deserialize(T)),(T=i(T,O.substring(w),b++))!==void 0)return T}}});return d(v,c),v},getItem:function(i,c){var u=this;i=x(i);var v=u.ready().then(function(){var p=u._dbInfo,m=localStorage.getItem(p.keyPrefix+i);return m&&(m=p.serializer.deserialize(m)),m});return d(v,c),v},setItem:function(i,c,u){var v=this;i=x(i);var p=v.ready().then(function(){c===void 0&&(c=null);var m=c;return new l(function(w,k){var b=v._dbInfo;b.serializer.serialize(c,function(D,O){if(O)k(O);else try{localStorage.setItem(b.keyPrefix+i,D),w(m)}catch(T){T.name!=="QuotaExceededError"&&T.name!=="NS_ERROR_DOM_QUOTA_REACHED"||k(T),k(T)}})})});return d(p,u),p},removeItem:function(i,c){var u=this;i=x(i);var v=u.ready().then(function(){var p=u._dbInfo;localStorage.removeItem(p.keyPrefix+i)});return d(v,c),v},clear:function(i){var c=this,u=c.ready().then(function(){for(var v=c._dbInfo.keyPrefix,p=localStorage.length-1;p>=0;p--){var m=localStorage.key(p);m.indexOf(v)===0&&localStorage.removeItem(m)}});return d(u,i),u},length:function(i){var c=this.keys().then(function(u){return u.length});return d(c,i),c},key:function(i,c){var u=this,v=u.ready().then(function(){var p,m=u._dbInfo;try{p=localStorage.key(i)}catch{p=null}return p&&(p=p.substring(m.keyPrefix.length)),p});return d(v,c),v},keys:function(i){var c=this,u=c.ready().then(function(){for(var v=c._dbInfo,p=localStorage.length,m=[],w=0;w<p;w++){var k=localStorage.key(w);k.indexOf(v.keyPrefix)===0&&m.push(k.substring(v.keyPrefix.length))}return m});return d(u,i),u},dropInstance:function(i,c){if(c=F.apply(this,arguments),!(i=typeof i!="function"&&i||{}).name){var u=this.config();i.name=i.name||u.name,i.storeName=i.storeName||u.storeName}var v,p=this;return d(v=i.name?new l(function(m){i.storeName?m(qe(i,p._defaultConfig)):m(i.name+"/")}).then(function(m){for(var w=localStorage.length-1;w>=0;w--){var k=localStorage.key(w);k.indexOf(m)===0&&localStorage.removeItem(k)}}):l.reject("Invalid arguments"),c),v}},mn=function(i,c){for(var u,v,p=i.length,m=0;m<p;){if((u=i[m])===(v=c)||typeof u=="number"&&typeof v=="number"&&isNaN(u)&&isNaN(v))return!0;m++}return!1},$r=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"},Ye={},Kr={},je={INDEXEDDB:ue,WEBSQL:We,LOCALSTORAGE:dn},pn=[je.INDEXEDDB._driver,je.WEBSQL._driver,je.LOCALSTORAGE._driver],ar=["dropInstance"],xr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ar),hn={description:"",driver:pn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function vn(i,c){i[c]=function(){var u=arguments;return i.ready().then(function(){return i[c].apply(i,u)})}}function Tr(){for(var i=1;i<arguments.length;i++){var c=arguments[i];if(c)for(var u in c)c.hasOwnProperty(u)&&($r(c[u])?arguments[0][u]=c[u].slice():arguments[0][u]=c[u])}return arguments[0]}var gn=new(function(){function i(c){for(var u in function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}(this,i),je)if(je.hasOwnProperty(u)){var v=je[u],p=v._driver;this[u]=p,Ye[p]||this.defineDriver(v)}this._defaultConfig=Tr({},hn),this._config=Tr({},this._defaultConfig,c),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return i.prototype.config=function(c){if((c===void 0?"undefined":o(c))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var u in c){if(u==="storeName"&&(c[u]=c[u].replace(/\W/g,"_")),u==="version"&&typeof c[u]!="number")return new Error("Database version must be a number.");this._config[u]=c[u]}return!("driver"in c&&c.driver)||this.setDriver(this._config.driver)}return typeof c=="string"?this._config[c]:this._config},i.prototype.defineDriver=function(c,u,v){var p=new l(function(m,w){try{var k=c._driver,b=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!c._driver)return void w(b);for(var D=xr.concat("_initStorage"),O=0,T=D.length;O<T;O++){var W=D[O];if((!mn(ar,W)||c[W])&&typeof c[W]!="function")return void w(b)}(function(){for(var Q=function(Nr){return function(){var yn=new Error("Method "+Nr+" is not implemented by the current driver"),et=l.reject(yn);return d(et,arguments[arguments.length-1]),et}},we=0,Ie=ar.length;we<Ie;we++){var Ce=ar[we];c[Ce]||(c[Ce]=Q(Ce))}})();var X=function(Q){Ye[k]&&console.info("Redefining LocalForage driver: "+k),Ye[k]=c,Kr[k]=Q,m()};"_support"in c?c._support&&typeof c._support=="function"?c._support().then(X,w):X(!!c._support):X(!0)}catch(Q){w(Q)}});return E(p,u,v),p},i.prototype.driver=function(){return this._driver||null},i.prototype.getDriver=function(c,u,v){var p=Ye[c]?l.resolve(Ye[c]):l.reject(new Error("Driver not found."));return E(p,u,v),p},i.prototype.getSerializer=function(c){var u=l.resolve(xe);return E(u,c),u},i.prototype.ready=function(c){var u=this,v=u._driverSet.then(function(){return u._ready===null&&(u._ready=u._initDriver()),u._ready});return E(v,c,c),v},i.prototype.setDriver=function(c,u,v){var p=this;$r(c)||(c=[c]);var m=this._getSupportedDrivers(c);function w(){p._config.driver=p.driver()}function k(D){return p._extend(D),w(),p._ready=p._initStorage(p._config),p._ready}var b=this._driverSet!==null?this._driverSet.catch(function(){return l.resolve()}):l.resolve();return this._driverSet=b.then(function(){var D=m[0];return p._dbInfo=null,p._ready=null,p.getDriver(D).then(function(O){p._driver=O._driver,w(),p._wrapLibraryMethodsWithReady(),p._initDriver=function(T){return function(){var W=0;return function X(){for(;W<T.length;){var Q=T[W];return W++,p._dbInfo=null,p._ready=null,p.getDriver(Q).then(k).catch(X)}w();var we=new Error("No available storage method found.");return p._driverSet=l.reject(we),p._driverSet}()}}(m)})}).catch(function(){w();var D=new Error("No available storage method found.");return p._driverSet=l.reject(D),p._driverSet}),E(this._driverSet,u,v),this._driverSet},i.prototype.supports=function(c){return!!Kr[c]},i.prototype._extend=function(c){Tr(this,c)},i.prototype._getSupportedDrivers=function(c){for(var u=[],v=0,p=c.length;v<p;v++){var m=c[v];this.supports(m)&&u.push(m)}return u},i.prototype._wrapLibraryMethodsWithReady=function(){for(var c=0,u=xr.length;c<u;c++)vn(this,xr[c])},i.prototype.createInstance=function(c){return new i(c)},i}());r.exports=gn},{3:3}]},{},[4])(4)});var ir=document.querySelector("desmond-player");if(ir){let e=function(y,h){En(y,function(_){console.log(_),x(_),r(),h()})},r=function(){console.log("loaded")},t=function(){var y=JSON.parse(window.localStorage.config||"{}");for(var h in y)jr[h]=y[h]},o=function(y){return document.getElementById(y)},l=function(y,h){for(var _ in Pr)Pr[_].handler&&Pr[_].handler(y,h)},d=function(y){document.getElementById("msg-text").innerText=y,document.getElementById("msg-layer").hidden=!1,setTimeout(function(){document.getElementById("msg-layer").hidden=!0},1e3)},E=function(){q();for(var y=0,h=0;h<14;h++)ae[h]&&(y|=1<<h);if(ae[11]&&(console.log("mic"),y|=16384),jr.powerSave&&s._runFrame(0,y,fr,lr,dr),s._runFrame(1,y,fr,lr,dr),tt[0].putImageData(zr[0],0,0),tt[1].putImageData(zr[1],0,0),Lr)try{var _=s._fillAudioBuffer(4096);nt.set(rt.subarray(0,2*_)),Lr.port.postMessage(nt.subarray(0,2*_))}catch(U){console.log(U)}},F=function(){try{if(Oe)return void(Oe.state!="running"&&Oe.resume());(Oe=new(window.AudioContext||window.webkitAudioContext)({latencyHint:1e-4,sampleRate:48e3})).audioWorklet?Oe.audioWorklet.addModule(URL.createObjectURL(new Blob([`class MyAudioWorklet extends AudioWorkletProcessor {
    constructor() {
        super()
        this.FIFO_CAP = 5000
        this.fifo0 = new Int16Array(this.FIFO_CAP)
        this.fifo1 = new Int16Array(this.FIFO_CAP)
        this.fifoHead = 0
        this.fifoLen = 0
        this.port.onmessage = (e) => {
            //console.log(this.fifoLen)
            var buf = e.data
            var samplesReceived = buf.length / 2
            if (this.fifoLen + samplesReceived >= this.FIFO_CAP) {
                console.log('o')
                return
            }

            for (var i = 0; i < buf.length; i+=2) {
                this.fifoEnqueue(buf[i], buf[i+1])
            }
        }
    }

    fifoDequeue() {
        this.fifoHead += 1
        this.fifoHead %= this.FIFO_CAP
        this.fifoLen -= 1
    }

    fifoEnqueue(a, b) {
        const pos = (this.fifoHead + this.fifoLen) % this.FIFO_CAP
        this.fifo0[pos] = a
        this.fifo1[pos] = b
        this.fifoLen += 1
    }

    process(inputs, outputs, parameters) {
        const output = outputs[0]
        const chan0 = output[0]
        const chan1 = output[1]

        for (var i = 0; i < chan0.length; i++) {
            if (this.fifoLen < 1) {
                console.log("u")
                break
            }
            chan0[i] = this.fifo0[this.fifoHead] / 32768.0
            chan1[i] = this.fifo1[this.fifoHead] / 32768.0
            this.fifoDequeue()
        }
        return true
    }
}

registerProcessor('my-worklet', MyAudioWorklet)`],{type:"text/javascript"}))).then(()=>{(Lr=new AudioWorkletNode(Oe,"my-worklet",{outputChannelCount:[2]})).connect(Oe.destination)}):alert("AudioWorklet is not supported in your browser..."),Oe.resume()}catch(y){console.log(y)}},C=function(){if(window.requestAnimationFrame(C),Xe){if(jr.powerSave&&performance.now()-ot<32)return;ot=performance.now(),E()}},A=function(y,h,_){return y>=_.x&&y<_.x+_.width&&h>=_.y&&h<_.y+_.height},P=function(y){return y<0?0:y>1?1:y},V=function(y){if(F(),Xe){y.preventDefault(),y.stopPropagation();for(var h=!1,_=0,U=0,L=!1,z=Ge[0],$=Ge[1],ee=Ge[2],ce=Ge[3],oe=.4*ee,Me=null,K=null,ue=Ur[1].getBoundingClientRect(),Z=0;Z<ae.length;Z++)ae[Z]=!1;for(var te in ge)ge[te][1]=0;for(Z=0;Z<y.touches.length;Z++){var fe=y.touches[Z],pe=fe.identifier;if(te=(ye=document.elementFromPoint(fe.clientX,fe.clientY))?ye.getAttribute("data-k"):null,pe===at||ye==Br.stick&&pe!=Hr){ge.stick[1]=1;var de=fe.clientX,he=fe.clientY;de<$-oe&&(ae[1]=!0),de>$+oe&&(ae[0]=!0),he<z-oe&&(ae[3]=!0),he>z+oe&&(ae[2]=!0),de=Math.max($-ee/2,de),de=Math.min($+ee/2,de),he=Math.max(z-ce/2,he),$=de,z=he=Math.min(z+ce/2,he),L=!0,Me=pe}else pe===Hr||A(fe.clientX,fe.clientY,ue)&&!te?(h=!0,_=256*P((fe.clientX-ue.x)/ue.width),U=192*P((fe.clientY-ue.y)/ue.height),K=pe):te&&(ge[te][1]=1)}for(var te in fr=h?1:0,lr=_,dr=U,ge)if(ge[te][0]!=ge[te][1]){var ye=Br[te];ge[te][0]=ge[te][1],ge[te][1]?(ye.classList.add("vk-touched"),te=="menu"&&uiSwitchTo("menu")):(ye.classList.remove("vk-touched"),te=="stick"&&(L=!0))}for(Z=0;Z<ae.length;Z++)te=a[Z],ge[te]&&ge[te][1]&&(ae[Z]=!0);L&&(Br.stick.style=makeVKStyle(z-ee/2,$-ee/2,ee,ce,Ge[4])),at=Me,Hr=K}},S=function(y){for(var h=0;h<14;h++)if(y==f[h])return h;return-1},q=function(){if(!(mr<0)){var y=navigator.getGamepads()[mr];if(!y)return d("Gamepad disconnected."),void(mr=-1);for(var h=0;h<ae.length;h++)ae[h]=!1;for(var _ in it)y.buttons[it[_]].pressed&&(ae[Be[_]]=!0);y.axes[0]<-.5&&(ae[Be.left]=!0),y.axes[0]>.5&&(ae[Be.right]=!0),y.axes[1]<-.5&&(ae[Be.up]=!0),y.axes[1]>.5&&(ae[Be.down]=!0)}};var io=e,so=r,uo=t,co=o,fo=l,lo=d,mo=E,po=F,ho=C,vo=A,go=P,yo=V,wo=S,_o=q,sr=ir.attachShadow({mode:"open"});sr.innerHTML=`<div id="player">
        <canvas id="top" width="256" height="192"></canvas>
        <canvas id="bottom" width="256" height="192"></canvas>`;var _n=function(y,h){var _=new XMLHttpRequest;_.open("GET",y),_.responseType="blob",_.addEventListener("load",function(){h(_.response)}),_.send()},bn=function(y,h){return y.lastModifiedDate=new Date,y.name=h,y},En=function(y,h){_n(y,function(_){h(bn(_,"test.jpg"))})};ir.loadURL=function(y,h){ir.enableMicrophone=function(){var _=s._realloc(0,4096),U=s.HEAPU8.subarray(_,_+4096);console.log(_,U),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(L){var z=new AudioContext,$=z.createMediaStreamSource(L),ee=z.createScriptProcessor(2048,1,1);$.connect(ee),ee.onaudioprocess=function(ce){for(var oe=ce.inputBuffer.getChannelData(0),Me=0,K=0;K<=2045;K+=3){var ue=Math.floor(64*((oe[K]+oe[K+1]+oe[K+2])/3+1));ue>127?ue=127:ue<0&&(ue=0),U[Me++]=ue}s._micWriteSamples(_,682);for(var Z=0;Z<1;Z++)for(oe=ce.outputBuffer.getChannelData(Z),K=0;K<2048;K++)oe[K]=0},ee.connect(z.destination)})},h?e(y,h):e(y)};var Pr={},jr={swapTopBottom:!1,swapTopBottomL:!1,powerSave:!0,micWhenR:!0,vkEnabled:!0};t();var Sn=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),kn=navigator.standalone||!1;if(Sn&&!kn){var Cr=o("ios-hint");Cr.hidden=!1,Cr.style="position: absolute; bottom: "+Cr.clientHeight+"px;"}var ae=new Array(14);const a=["right","left","down","up","select","start","b","a","y","x","l","r","debug","lid"];for(var Ge,Br={},ge={},Be={},ur=0;ur<a.length;ur++)Be[a[ur]]=ur;const f=[39,37,40,38,16,13,90,88,65,83,81,87,-1,8];var Oe,rt,Lr,Xe=!1;o("rom");var cr=0,zr=[0,0],Ur=[sr.getElementById("top"),sr.getElementById("bottom")],tt=Ur.map(y=>y.getContext("2d",{alpha:!1})),nt=new Int16Array(32768),fr=0,lr=0,dr=0;async function x(y){if(y&&!(y.size<1024)){var h=new Uint8Array(await y.slice(0,1024).arrayBuffer());gameID="";for(var _=0;_<16;_++)gameID+=h[_]==0?" ":String.fromCharCode(h[_]);gameID[12]=="#"&&(gameID=y.name),console.log("gameID",gameID),cr=y.size;var U=s._prepareRomBuffer(cr);console.log(cr,U),s.HEAPU8.set(new Uint8Array(await y.arrayBuffer()),U);var L=await localforage.getItem("sav-"+gameID);if(L&&s.HEAPU8.set(L,s._savGetPointer(L.length)),s._savUpdateChangeFlag(),s._loadROM(cr)==1){ptrFrontBuffer=s._getSymbol(5);var z=s._getSymbol(4);for(_=0;_<2;_++)zr[_]=new ImageData(new Uint8ClampedArray(s.HEAPU8.buffer).subarray(z+196608*_,z+196608*(_+1)),256,192);var $=s._getSymbol(6);rt=new Int16Array(s.HEAPU8.buffer).subarray($/2,$/2+32768),console.log("Start!!!"),Xe=!0,sr.querySelector("#player").hidden=!1,l("loaded",gameID)}else alert("LoadROM failed.")}}var ot=performance.now();C();var at=null,Hr=null;["touchstart","touchmove","touchend","touchcancel","touchenter","touchleave"].forEach(y=>{window.addEventListener(y,V)}),window.onmousedown=window.onmouseup=window.onmousemove=y=>{if(Xe){y.type=="mousedown"&&F();var h=Ur[1].getBoundingClientRect();y.preventDefault(),y.stopPropagation();var _=y.buttons!=0&&A(y.clientX,y.clientY,h),U=(y.clientX-h.x)/h.width*256,L=(y.clientY-h.y)/h.height*192;fr=_?1:0,lr=U,dr=L}},window.onkeydown=window.onkeyup=y=>{if(Xe){y.preventDefault();var h=y.type==="keydown",_=S(y.keyCode);_>=0&&(ae[_]=h),y.keyCode==27&&uiSwitchTo("menu")}};var mr=-1,it={a:1,b:0,x:3,y:2,l:4,r:5,select:9,start:16,up:12,down:13,left:14,right:15};window.addEventListener("gamepadconnected",function(y){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",y.gamepad.index,y.gamepad.id,y.gamepad.buttons.length,y.gamepad.axes.length),d("Gamepad connected."),mr=y.gamepad.index})}else console.log("No Desmond player found!");var Je,er,br,gr,pr,Wr,s=s!==void 0?s:{},st=Object.assign({},s),Gr="./this.program",Mr=(e,r)=>{throw r},dt=typeof window=="object",Le=typeof importScripts=="function",Xr=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_e="";function Dn(e){return s.locateFile?s.locateFile(e,_e):_e+e}function An(e){e instanceof Rr||ke("exiting due to exception: "+e)}Xr?(_e=Le?require("path").dirname(_e)+"/":__dirname+"/",Wr=()=>{pr||(gr=require("fs"),pr=require("path"))},Je=function(e,r){return Wr(),e=pr.normalize(e),gr.readFileSync(e,r?void 0:"utf8")},br=e=>{var r=Je(e,!0);return r.buffer||(r=new Uint8Array(r)),r},er=(e,r,t)=>{Wr(),e=pr.normalize(e),gr.readFile(e,function(o,a){o?t(o):r(a.buffer)})},process.argv.length>1&&(Gr=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),typeof tr<"u"&&(tr.exports=s),process.on("uncaughtException",function(e){if(!(e instanceof Rr))throw e}),process.on("unhandledRejection",function(e){throw e}),Mr=(e,r)=>{if(wt())throw process.exitCode=e,r;An(r),process.exit(e)},s.inspect=function(){return"[Emscripten Module object]"}):(dt||Le)&&(Le?_e=self.location.href:typeof document<"u"&&document.currentScript&&(_e=document.currentScript.src),_e=_e.indexOf("blob:")!==0?_e.substr(0,_e.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Je=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},Le&&(br=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),er=(e,r,t)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?r(o.response):t()},o.onerror=t,o.send(null)});var Er=s.print||console.log.bind(console),ke=s.printErr||console.warn.bind(console);Object.assign(s,st),st=null,s.arguments&&s.arguments,s.thisProgram&&(Gr=s.thisProgram),s.quit&&(Mr=s.quit);var rr;s.wasmBinary&&(rr=s.wasmBinary);var Mn=s.noExitRuntime||!0;typeof WebAssembly!="object"&&Ee("no native wasm support detected");var Ir,Vr=!1;function In(e,r){e||Ee(r)}var mt,le,Ae,pt,R,ht,ut=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ze(e,r,t){for(var o=r+t,a=r;e[a]&&!(a>=o);)++a;if(a-r>16&&e.subarray&&ut)return ut.decode(e.subarray(r,a));for(var f="";r<a;){var l=e[r++];if(128&l){var d=63&e[r++];if((224&l)!=192){var E=63&e[r++];if((l=(240&l)==224?(15&l)<<12|d<<6|E:(7&l)<<18|d<<12|E<<6|63&e[r++])<65536)f+=String.fromCharCode(l);else{var x=l-65536;f+=String.fromCharCode(55296|x>>10,56320|1023&x)}}else f+=String.fromCharCode((31&l)<<6|d)}else f+=String.fromCharCode(l)}return f}function Te(e,r){return e?ze(Ae,e,r):""}function Or(e,r,t,o){if(!(o>0))return 0;for(var a=t,f=t+o-1,l=0;l<e.length;++l){var d=e.charCodeAt(l);if(d>=55296&&d<=57343&&(d=65536+((1023&d)<<10)|1023&e.charCodeAt(++l)),d<=127){if(t>=f)break;r[t++]=d}else if(d<=2047){if(t+1>=f)break;r[t++]=192|d>>6,r[t++]=128|63&d}else if(d<=65535){if(t+2>=f)break;r[t++]=224|d>>12,r[t++]=128|d>>6&63,r[t++]=128|63&d}else{if(t+3>=f)break;r[t++]=240|d>>18,r[t++]=128|d>>12&63,r[t++]=128|d>>6&63,r[t++]=128|63&d}}return r[t]=0,t-a}function On(e,r,t){return Or(e,Ae,r,t)}function Fr(e){for(var r=0,t=0;t<e.length;++t){var o=e.charCodeAt(t);o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++t)),o<=127?++r:r+=o<=2047?2:o<=65535?3:4}return r}function ct(e){var r=Fr(e)+1,t=Zr(r);return t&&Or(e,le,t,r),t}function Fn(e,r){le.set(e,r)}function Rn(e,r,t){for(var o=0;o<e.length;++o)le[r++>>0]=e.charCodeAt(o);le[r>>0]=0}function xn(e){mt=e,s.HEAP8=le=new Int8Array(e),s.HEAP16=pt=new Int16Array(e),s.HEAP32=R=new Int32Array(e),s.HEAPU8=Ae=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=ht=new Float64Array(e)}var Jr;s.INITIAL_MEMORY;var vt=[],gt=[],Tn=[],yt=[],Nn=0;function wt(){return Mn||Nn>0}function Pn(){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Ln(s.preRun.shift());nr(vt)}function jn(){s.noFSInit||n.init.initialized||n.init(),n.ignorePermissions=!1,De.init(),nr(gt)}function Cn(){nr(Tn)}function Bn(){if(s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;)Un(s.postRun.shift());nr(yt)}function Ln(e){vt.unshift(e)}function zn(e){gt.unshift(e)}function Un(e){yt.unshift(e)}var Ne=0,Qe=null;function Qr(e){Ne++,s.monitorRunDependencies&&s.monitorRunDependencies(Ne)}function Sr(e){if(Ne--,s.monitorRunDependencies&&s.monitorRunDependencies(Ne),Ne==0&&Qe){var r=Qe;Qe=null,r()}}function Ee(e){throw s.onAbort&&s.onAbort(e),ke(e="Aborted("+e+")"),Vr=!0,Ir=1,e+=". Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}s.preloadedImages={},s.preloadedAudios={};var me,ie,Se,Hn="data:application/octet-stream;base64,";function _t(e){return e.startsWith(Hn)}function bt(e){return e.startsWith("file://")}function ft(e){try{if(e==me&&rr)return new Uint8Array(rr);if(br)return br(e);throw"both async and sync fetching of the wasm failed"}catch(r){Ee(r)}}function Wn(){if(!rr&&(dt||Le)){if(typeof fetch=="function"&&!bt(me))return fetch(me,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+me+"'";return e.arrayBuffer()}).catch(function(){return ft(me)});if(er)return new Promise(function(e,r){er(me,function(t){e(new Uint8Array(t))},r)})}return Promise.resolve().then(function(){return ft(me)})}function qn(){var e={a:Kn};function r(a,f){var l=a.exports;s.asm=l,xn(s.asm.x.buffer),Jr=s.asm.S,zn(s.asm.y),Sr()}function t(a){r(a.instance)}function o(a){return Wn().then(function(f){return WebAssembly.instantiate(f,e)}).then(function(f){return f}).then(a,function(f){ke("failed to asynchronously prepare wasm: "+f),Ee(f)})}if(Qr(),s.instantiateWasm)try{return s.instantiateWasm(e,r)}catch(a){return ke("Module.instantiateWasm callback failed with error: "+a),!1}return rr||typeof WebAssembly.instantiateStreaming!="function"||_t(me)||bt(me)||typeof fetch!="function"?o(t):fetch(me,{credentials:"same-origin"}).then(function(a){return WebAssembly.instantiateStreaming(a,e).then(t,function(f){return ke("wasm streaming compile failed: "+f),ke("falling back to ArrayBuffer instantiation"),o(t)})}),{}}_t(me="desmond.wasm")||(me=Dn(me));var Yn={464896:function(){wasmReady()}};function nr(e){for(;e.length>0;){var r=e.shift();if(typeof r!="function"){var t=r.func;typeof t=="number"?r.arg===void 0?qr(t)():qr(t)(r.arg):t(r.arg===void 0?null:r.arg)}else r(s)}}function Gn(e){var r=sn(),t=e();return un(r),t}function Xn(e){return e}function Et(e){return e.replace(/\b_Z[\w\d_]+/g,function(r){var t=r;return r===t?r:t+" ["+r+"]"})}s.callRuntimeCallbacks=nr,s.withStackSave=Gn,s.demangle=Xn,s.demangleAll=Et;var Ue=[];function qr(e){var r=Ue[e];return r||(e>=Ue.length&&(Ue.length=e+1),Ue[e]=r=Jr.get(e)),r}function St(e){if(e instanceof Rr||e=="unwind")return Ir;Mr(1,e)}function kt(){var e=new Error;if(!e.stack){try{throw new Error}catch(r){e=r}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function Vn(e,r){Jr.set(e,r),Ue[e]=r}function Jn(){var e=kt();return s.extraStackTrace&&(e+=`
`+s.extraStackTrace()),Et(e)}function Dt(e,r,t,o){Ee("Assertion failed: "+Te(e)+", at: "+[r?Te(r):"unknown filename",t,o?Te(o):"unknown function"])}function At(e){return Zr(e+16)+16}function Mt(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(r){R[this.ptr+4>>2]=r},this.get_type=function(){return R[this.ptr+4>>2]},this.set_destructor=function(r){R[this.ptr+8>>2]=r},this.get_destructor=function(){return R[this.ptr+8>>2]},this.set_refcount=function(r){R[this.ptr>>2]=r},this.set_caught=function(r){r=r?1:0,le[this.ptr+12>>0]=r},this.get_caught=function(){return le[this.ptr+12>>0]!=0},this.set_rethrown=function(r){r=r?1:0,le[this.ptr+13>>0]=r},this.get_rethrown=function(){return le[this.ptr+13>>0]!=0},this.init=function(r,t){this.set_type(r),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var r=R[this.ptr>>2];R[this.ptr>>2]=r+1},this.release_ref=function(){var r=R[this.ptr>>2];return R[this.ptr>>2]=r-1,r===1}}s.wasmTableMirror=Ue,s.getWasmTableEntry=qr,s.handleException=St,s.jsStackTrace=kt,s.setWasmTableEntry=Vn,s.stackTrace=Jn,s.___assert_fail=Dt,s.___cxa_allocate_exception=At,s.ExceptionInfo=Mt;var It=0;s.exceptionLast=It;var Ot=0;function Ft(e,r,t){throw new Mt(e).init(r,t),It=e,Ot++,e}function Rt(e){return R[an()>>2]=e,e}s.uncaughtExceptionCount=Ot,s.___cxa_throw=Ft,s.setErrNo=Rt;var J={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,o=e.length-1;o>=0;o--){var a=e[o];a==="."?e.splice(o,1):a===".."?(e.splice(o,1),t++):t&&(e.splice(o,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:function(e){var r=e.charAt(0)==="/",t=e.substr(-1)==="/";return(e=J.normalizeArray(e.split("/").filter(function(o){return!!o}),!r).join("/"))||r||(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=J.splitPath(e),t=r[0],o=r[1];return t||o?(o&&(o=o.substr(0,o.length-1)),t+o):"."},basename:function(e){if(e==="/")return"/";var r=(e=(e=J.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return r===-1?e:e.substr(r+1)},extname:function(e){return J.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return J.normalize(e.join("/"))},join2:function(e,r){return J.normalize(e+"/"+r)}};function xt(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(Xr)try{var r=require("crypto");return function(){return r.randomBytes(1)[0]}}catch{}return function(){Ee("randomDevice")}}s.PATH=J,s.getRandomDevice=xt;var be={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var o=t>=0?arguments[t]:n.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";e=o+"/"+e,r=o.charAt(0)==="/"}return(r?"/":"")+(e=J.normalizeArray(e.split("/").filter(function(a){return!!a}),!r).join("/"))||"."},relative:function(e,r){function t(x){for(var F=0;F<x.length&&x[F]==="";F++);for(var C=x.length-1;C>=0&&x[C]==="";C--);return F>C?[]:x.slice(F,C-F+1)}e=be.resolve(e).substr(1),r=be.resolve(r).substr(1);for(var o=t(e.split("/")),a=t(r.split("/")),f=Math.min(o.length,a.length),l=f,d=0;d<f;d++)if(o[d]!==a[d]){l=d;break}var E=[];for(d=l;d<o.length;d++)E.push("..");return(E=E.concat(a.slice(l))).join("/")}};s.PATH_FS=be;var De={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){De.ttys[e]={input:[],output:[],ops:r},n.registerDevice(e,De.stream_ops)},stream_ops:{open:function(e){var r=De.ttys[e.node.rdev];if(!r)throw new n.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,o,a){if(!e.tty||!e.tty.ops.get_char)throw new n.ErrnoError(60);for(var f=0,l=0;l<o;l++){var d;try{d=e.tty.ops.get_char(e.tty)}catch{throw new n.ErrnoError(29)}if(d===void 0&&f===0)throw new n.ErrnoError(6);if(d==null)break;f++,r[t+l]=d}return f&&(e.node.timestamp=Date.now()),f},write:function(e,r,t,o,a){if(!e.tty||!e.tty.ops.put_char)throw new n.ErrnoError(60);try{for(var f=0;f<o;f++)e.tty.ops.put_char(e.tty,r[t+f])}catch{throw new n.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),f}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(Xr){var t=Buffer.alloc(256),o=0;try{o=gr.readSync(process.stdin.fd,t,0,256,-1)}catch(a){if(!a.toString().includes("EOF"))throw a;o=0}r=o>0?t.slice(0,o).toString("utf-8"):null}else typeof window<"u"&&typeof window.prompt=="function"?(r=window.prompt("Input: "))!==null&&(r+=`
`):typeof readline=="function"&&(r=readline())!==null&&(r+=`
`);if(!r)return null;e.input=Dr(r,!0)}return e.input.shift()},put_char:function(e,r){r===null||r===10?(Er(ze(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(Er(ze(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){r===null||r===10?(ke(ze(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(ke(ze(e.output,0)),e.output=[])}}};function Qn(e,r){Ae.fill(0,e,e+r)}function Zn(e,r){return Math.ceil(e/r)*r}function Tt(e){Ee()}s.TTY=De,s.zeroMemory=Qn,s.alignMemory=Zn,s.mmapAlloc=Tt;var Y={ops_table:null,mount:function(e){return Y.createNode(null,"/",16895,0)},createNode:function(e,r,t,o){if(n.isBlkdev(t)||n.isFIFO(t))throw new n.ErrnoError(63);Y.ops_table||(Y.ops_table={dir:{node:{getattr:Y.node_ops.getattr,setattr:Y.node_ops.setattr,lookup:Y.node_ops.lookup,mknod:Y.node_ops.mknod,rename:Y.node_ops.rename,unlink:Y.node_ops.unlink,rmdir:Y.node_ops.rmdir,readdir:Y.node_ops.readdir,symlink:Y.node_ops.symlink},stream:{llseek:Y.stream_ops.llseek}},file:{node:{getattr:Y.node_ops.getattr,setattr:Y.node_ops.setattr},stream:{llseek:Y.stream_ops.llseek,read:Y.stream_ops.read,write:Y.stream_ops.write,allocate:Y.stream_ops.allocate,mmap:Y.stream_ops.mmap,msync:Y.stream_ops.msync}},link:{node:{getattr:Y.node_ops.getattr,setattr:Y.node_ops.setattr,readlink:Y.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Y.node_ops.getattr,setattr:Y.node_ops.setattr},stream:n.chrdev_stream_ops}});var a=n.createNode(e,r,t,o);return n.isDir(a.mode)?(a.node_ops=Y.ops_table.dir.node,a.stream_ops=Y.ops_table.dir.stream,a.contents={}):n.isFile(a.mode)?(a.node_ops=Y.ops_table.file.node,a.stream_ops=Y.ops_table.file.stream,a.usedBytes=0,a.contents=null):n.isLink(a.mode)?(a.node_ops=Y.ops_table.link.node,a.stream_ops=Y.ops_table.link.stream):n.isChrdev(a.mode)&&(a.node_ops=Y.ops_table.chrdev.node,a.stream_ops=Y.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[r]=a,e.timestamp=a.timestamp),a},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){r=Math.max(r,t*(t<1048576?2:1.125)>>>0),t!=0&&(r=Math.max(r,256));var o=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=n.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,n.isDir(e.mode)?r.size=4096:n.isFile(e.mode)?r.size=e.usedBytes:n.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){r.mode!==void 0&&(e.mode=r.mode),r.timestamp!==void 0&&(e.timestamp=r.timestamp),r.size!==void 0&&Y.resizeFileStorage(e,r.size)},lookup:function(e,r){throw n.genericErrors[44]},mknod:function(e,r,t,o){return Y.createNode(e,r,t,o)},rename:function(e,r,t){if(n.isDir(e.mode)){var o;try{o=n.lookupNode(r,t)}catch{}if(o)for(var a in o.contents)throw new n.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var t=n.lookupNode(e,r);for(var o in t.contents)throw new n.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){var o=Y.createNode(e,r,41471,0);return o.link=t,o},readlink:function(e){if(!n.isLink(e.mode))throw new n.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,o,a){var f=e.node.contents;if(a>=e.node.usedBytes)return 0;var l=Math.min(e.node.usedBytes-a,o);if(l>8&&f.subarray)r.set(f.subarray(a,a+l),t);else for(var d=0;d<l;d++)r[t+d]=f[a+d];return l},write:function(e,r,t,o,a,f){if(!o)return 0;var l=e.node;if(l.timestamp=Date.now(),r.subarray&&(!l.contents||l.contents.subarray)){if(f)return l.contents=r.subarray(t,t+o),l.usedBytes=o,o;if(l.usedBytes===0&&a===0)return l.contents=r.slice(t,t+o),l.usedBytes=o,o;if(a+o<=l.usedBytes)return l.contents.set(r.subarray(t,t+o),a),o}if(Y.expandFileStorage(l,a+o),l.contents.subarray&&r.subarray)l.contents.set(r.subarray(t,t+o),a);else for(var d=0;d<o;d++)l.contents[a+d]=r[t+d];return l.usedBytes=Math.max(l.usedBytes,a+o),o},llseek:function(e,r,t){var o=r;if(t===1?o+=e.position:t===2&&n.isFile(e.node.mode)&&(o+=e.node.usedBytes),o<0)throw new n.ErrnoError(28);return o},allocate:function(e,r,t){Y.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,o,a,f){if(r!==0)throw new n.ErrnoError(28);if(!n.isFile(e.node.mode))throw new n.ErrnoError(43);var l,d,E=e.node.contents;if(2&f||E.buffer!==mt){if((o>0||o+t<E.length)&&(E=E.subarray?E.subarray(o,o+t):Array.prototype.slice.call(E,o,o+t)),d=!0,!(l=Tt()))throw new n.ErrnoError(48);le.set(E,l)}else d=!1,l=E.byteOffset;return{ptr:l,allocated:d}},msync:function(e,r,t,o,a){if(!n.isFile(e.node.mode))throw new n.ErrnoError(43);return 2&a||Y.stream_ops.write(e,r,0,o,t,!1),0}}};function Nt(e,r,t,o){var a=o?"":"al "+e;er(e,function(f){In(f,'Loading data file "'+e+'" failed (no arrayBuffer).'),r(new Uint8Array(f)),a&&Sr()},function(f){if(!t)throw'Loading data file "'+e+'" failed.';t()}),a&&Qr()}s.MEMFS=Y,s.asyncLoad=Nt;var n={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,r={})=>{if(!(e=be.resolve(n.cwd(),e)))return{path:"",node:null};if((r=Object.assign({follow_mount:!0,recurse_count:0},r)).recurse_count>8)throw new n.ErrnoError(32);for(var t=J.normalizeArray(e.split("/").filter(x=>!!x),!1),o=n.root,a="/",f=0;f<t.length;f++){var l=f===t.length-1;if(l&&r.parent)break;if(o=n.lookupNode(o,t[f]),a=J.join2(a,t[f]),n.isMountpoint(o)&&(!l||l&&r.follow_mount)&&(o=o.mounted.root),!l||r.follow)for(var d=0;n.isLink(o.mode);){var E=n.readlink(a);if(a=be.resolve(J.dirname(a),E),o=n.lookupPath(a,{recurse_count:r.recurse_count+1}).node,d++>40)throw new n.ErrnoError(32)}}return{path:a,node:o}},getPath:e=>{for(var r;;){if(n.isRoot(e)){var t=e.mount.mountpoint;return r?t[t.length-1]!=="/"?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:(e,r)=>{for(var t=0,o=0;o<r.length;o++)t=(t<<5)-t+r.charCodeAt(o)|0;return(e+t>>>0)%n.nameTable.length},hashAddNode:e=>{var r=n.hashName(e.parent.id,e.name);e.name_next=n.nameTable[r],n.nameTable[r]=e},hashRemoveNode:e=>{var r=n.hashName(e.parent.id,e.name);if(n.nameTable[r]===e)n.nameTable[r]=e.name_next;else for(var t=n.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:(e,r)=>{var t=n.mayLookup(e);if(t)throw new n.ErrnoError(t,e);for(var o=n.hashName(e.id,r),a=n.nameTable[o];a;a=a.name_next){var f=a.name;if(a.parent.id===e.id&&f===r)return a}return n.lookup(e,r)},createNode:(e,r,t,o)=>{var a=new n.FSNode(e,r,t,o);return n.hashAddNode(a),a},destroyNode:e=>{n.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>(61440&e)==32768,isDir:e=>(61440&e)==16384,isLink:e=>(61440&e)==40960,isChrdev:e=>(61440&e)==8192,isBlkdev:e=>(61440&e)==24576,isFIFO:e=>(61440&e)==4096,isSocket:e=>(49152&e)==49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:e=>{var r=n.flagModes[e];if(r===void 0)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:e=>{var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:(e,r)=>n.ignorePermissions||(!r.includes("r")||292&e.mode)&&(!r.includes("w")||146&e.mode)&&(!r.includes("x")||73&e.mode)?0:2,mayLookup:e=>{var r=n.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:(e,r)=>{try{return n.lookupNode(e,r),20}catch{}return n.nodePermissions(e,"wx")},mayDelete:(e,r,t)=>{var o;try{o=n.lookupNode(e,r)}catch(f){return f.errno}var a=n.nodePermissions(e,"wx");if(a)return a;if(t){if(!n.isDir(o.mode))return 54;if(n.isRoot(o)||n.getPath(o)===n.cwd())return 10}else if(n.isDir(o.mode))return 31;return 0},mayOpen:(e,r)=>e?n.isLink(e.mode)?32:n.isDir(e.mode)&&(n.flagsToPermissionString(r)!=="r"||512&r)?31:n.nodePermissions(e,n.flagsToPermissionString(r)):44,MAX_OPEN_FDS:4096,nextfd:(e=0,r=n.MAX_OPEN_FDS)=>{for(var t=e;t<=r;t++)if(!n.streams[t])return t;throw new n.ErrnoError(33)},getStream:e=>n.streams[e],createStream:(e,r,t)=>{n.FSStream||(n.FSStream=function(){},n.FSStream.prototype={object:{get:function(){return this.node},set:function(a){this.node=a}},isRead:{get:function(){return(2097155&this.flags)!=1}},isWrite:{get:function(){return(2097155&this.flags)!=0}},isAppend:{get:function(){return 1024&this.flags}}}),e=Object.assign(new n.FSStream,e);var o=n.nextfd(r,t);return e.fd=o,n.streams[o]=e,e},closeStream:e=>{n.streams[e]=null},chrdev_stream_ops:{open:e=>{var r=n.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new n.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,r)=>e<<8|r,registerDevice:(e,r)=>{n.devices[e]={stream_ops:r}},getDevice:e=>n.devices[e],getMounts:e=>{for(var r=[],t=[e];t.length;){var o=t.pop();r.push(o),t.push.apply(t,o.mounts)}return r},syncfs:(e,r)=>{typeof e=="function"&&(r=e,e=!1),n.syncFSRequests++,n.syncFSRequests>1&&ke("warning: "+n.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=n.getMounts(n.root.mount),o=0;function a(l){return n.syncFSRequests--,r(l)}function f(l){if(l)return f.errored?void 0:(f.errored=!0,a(l));++o>=t.length&&a(null)}t.forEach(l=>{if(!l.type.syncfs)return f(null);l.type.syncfs(l,e,f)})},mount:(e,r,t)=>{var o,a=t==="/",f=!t;if(a&&n.root)throw new n.ErrnoError(10);if(!a&&!f){var l=n.lookupPath(t,{follow_mount:!1});if(t=l.path,o=l.node,n.isMountpoint(o))throw new n.ErrnoError(10);if(!n.isDir(o.mode))throw new n.ErrnoError(54)}var d={type:e,opts:r,mountpoint:t,mounts:[]},E=e.mount(d);return E.mount=d,d.root=E,a?n.root=E:o&&(o.mounted=d,o.mount&&o.mount.mounts.push(d)),E},unmount:e=>{var r=n.lookupPath(e,{follow_mount:!1});if(!n.isMountpoint(r.node))throw new n.ErrnoError(28);var t=r.node,o=t.mounted,a=n.getMounts(o);Object.keys(n.nameTable).forEach(l=>{for(var d=n.nameTable[l];d;){var E=d.name_next;a.includes(d.mount)&&n.destroyNode(d),d=E}}),t.mounted=null;var f=t.mount.mounts.indexOf(o);t.mount.mounts.splice(f,1)},lookup:(e,r)=>e.node_ops.lookup(e,r),mknod:(e,r,t)=>{var o=n.lookupPath(e,{parent:!0}).node,a=J.basename(e);if(!a||a==="."||a==="..")throw new n.ErrnoError(28);var f=n.mayCreate(o,a);if(f)throw new n.ErrnoError(f);if(!o.node_ops.mknod)throw new n.ErrnoError(63);return o.node_ops.mknod(o,a,r,t)},create:(e,r)=>(r=r!==void 0?r:438,r&=4095,r|=32768,n.mknod(e,r,0)),mkdir:(e,r)=>(r=r!==void 0?r:511,r&=1023,r|=16384,n.mknod(e,r,0)),mkdirTree:(e,r)=>{for(var t=e.split("/"),o="",a=0;a<t.length;++a)if(t[a]){o+="/"+t[a];try{n.mkdir(o,r)}catch(f){if(f.errno!=20)throw f}}},mkdev:(e,r,t)=>(t===void 0&&(t=r,r=438),r|=8192,n.mknod(e,r,t)),symlink:(e,r)=>{if(!be.resolve(e))throw new n.ErrnoError(44);var t=n.lookupPath(r,{parent:!0}).node;if(!t)throw new n.ErrnoError(44);var o=J.basename(r),a=n.mayCreate(t,o);if(a)throw new n.ErrnoError(a);if(!t.node_ops.symlink)throw new n.ErrnoError(63);return t.node_ops.symlink(t,o,e)},rename:(e,r)=>{var t,o,a=J.dirname(e),f=J.dirname(r),l=J.basename(e),d=J.basename(r);if(t=n.lookupPath(e,{parent:!0}).node,o=n.lookupPath(r,{parent:!0}).node,!t||!o)throw new n.ErrnoError(44);if(t.mount!==o.mount)throw new n.ErrnoError(75);var E,x=n.lookupNode(t,l),F=be.relative(e,f);if(F.charAt(0)!==".")throw new n.ErrnoError(28);if((F=be.relative(r,a)).charAt(0)!==".")throw new n.ErrnoError(55);try{E=n.lookupNode(o,d)}catch{}if(x!==E){var C=n.isDir(x.mode),A=n.mayDelete(t,l,C);if(A)throw new n.ErrnoError(A);if(A=E?n.mayDelete(o,d,C):n.mayCreate(o,d))throw new n.ErrnoError(A);if(!t.node_ops.rename)throw new n.ErrnoError(63);if(n.isMountpoint(x)||E&&n.isMountpoint(E))throw new n.ErrnoError(10);if(o!==t&&(A=n.nodePermissions(t,"w")))throw new n.ErrnoError(A);n.hashRemoveNode(x);try{t.node_ops.rename(x,o,d)}catch(P){throw P}finally{n.hashAddNode(x)}}},rmdir:e=>{var r=n.lookupPath(e,{parent:!0}).node,t=J.basename(e),o=n.lookupNode(r,t),a=n.mayDelete(r,t,!0);if(a)throw new n.ErrnoError(a);if(!r.node_ops.rmdir)throw new n.ErrnoError(63);if(n.isMountpoint(o))throw new n.ErrnoError(10);r.node_ops.rmdir(r,t),n.destroyNode(o)},readdir:e=>{var r=n.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new n.ErrnoError(54);return r.node_ops.readdir(r)},unlink:e=>{var r=n.lookupPath(e,{parent:!0}).node;if(!r)throw new n.ErrnoError(44);var t=J.basename(e),o=n.lookupNode(r,t),a=n.mayDelete(r,t,!1);if(a)throw new n.ErrnoError(a);if(!r.node_ops.unlink)throw new n.ErrnoError(63);if(n.isMountpoint(o))throw new n.ErrnoError(10);r.node_ops.unlink(r,t),n.destroyNode(o)},readlink:e=>{var r=n.lookupPath(e).node;if(!r)throw new n.ErrnoError(44);if(!r.node_ops.readlink)throw new n.ErrnoError(28);return be.resolve(n.getPath(r.parent),r.node_ops.readlink(r))},stat:(e,r)=>{var t=n.lookupPath(e,{follow:!r}).node;if(!t)throw new n.ErrnoError(44);if(!t.node_ops.getattr)throw new n.ErrnoError(63);return t.node_ops.getattr(t)},lstat:e=>n.stat(e,!0),chmod:(e,r,t)=>{var o;if(typeof e=="string"?o=n.lookupPath(e,{follow:!t}).node:o=e,!o.node_ops.setattr)throw new n.ErrnoError(63);o.node_ops.setattr(o,{mode:4095&r|-4096&o.mode,timestamp:Date.now()})},lchmod:(e,r)=>{n.chmod(e,r,!0)},fchmod:(e,r)=>{var t=n.getStream(e);if(!t)throw new n.ErrnoError(8);n.chmod(t.node,r)},chown:(e,r,t,o)=>{var a;if(typeof e=="string"?a=n.lookupPath(e,{follow:!o}).node:a=e,!a.node_ops.setattr)throw new n.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:(e,r,t)=>{n.chown(e,r,t,!0)},fchown:(e,r,t)=>{var o=n.getStream(e);if(!o)throw new n.ErrnoError(8);n.chown(o.node,r,t)},truncate:(e,r)=>{if(r<0)throw new n.ErrnoError(28);var t;if(typeof e=="string"?t=n.lookupPath(e,{follow:!0}).node:t=e,!t.node_ops.setattr)throw new n.ErrnoError(63);if(n.isDir(t.mode))throw new n.ErrnoError(31);if(!n.isFile(t.mode))throw new n.ErrnoError(28);var o=n.nodePermissions(t,"w");if(o)throw new n.ErrnoError(o);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:(e,r)=>{var t=n.getStream(e);if(!t)throw new n.ErrnoError(8);if(!(2097155&t.flags))throw new n.ErrnoError(28);n.truncate(t.node,r)},utime:(e,r,t)=>{var o=n.lookupPath(e,{follow:!0}).node;o.node_ops.setattr(o,{timestamp:Math.max(r,t)})},open:(e,r,t,o,a)=>{if(e==="")throw new n.ErrnoError(44);var f;if(t=t===void 0?438:t,t=64&(r=typeof r=="string"?n.modeStringToFlags(r):r)?4095&t|32768:0,typeof e=="object")f=e;else{e=J.normalize(e);try{f=n.lookupPath(e,{follow:!(131072&r)}).node}catch{}}var l=!1;if(64&r)if(f){if(128&r)throw new n.ErrnoError(20)}else f=n.mknod(e,t,0),l=!0;if(!f)throw new n.ErrnoError(44);if(n.isChrdev(f.mode)&&(r&=-513),65536&r&&!n.isDir(f.mode))throw new n.ErrnoError(54);if(!l){var d=n.mayOpen(f,r);if(d)throw new n.ErrnoError(d)}512&r&&n.truncate(f,0),r&=-131713;var E=n.createStream({node:f,path:n.getPath(f),flags:r,seekable:!0,position:0,stream_ops:f.stream_ops,ungotten:[],error:!1},o,a);return E.stream_ops.open&&E.stream_ops.open(E),!s.logReadFiles||1&r||(n.readFiles||(n.readFiles={}),e in n.readFiles||(n.readFiles[e]=1)),E},close:e=>{if(n.isClosed(e))throw new n.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{n.closeStream(e.fd)}e.fd=null},isClosed:e=>e.fd===null,llseek:(e,r,t)=>{if(n.isClosed(e))throw new n.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new n.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new n.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:(e,r,t,o,a)=>{if(o<0||a<0)throw new n.ErrnoError(28);if(n.isClosed(e))throw new n.ErrnoError(8);if((2097155&e.flags)==1)throw new n.ErrnoError(8);if(n.isDir(e.node.mode))throw new n.ErrnoError(31);if(!e.stream_ops.read)throw new n.ErrnoError(28);var f=a!==void 0;if(f){if(!e.seekable)throw new n.ErrnoError(70)}else a=e.position;var l=e.stream_ops.read(e,r,t,o,a);return f||(e.position+=l),l},write:(e,r,t,o,a,f)=>{if(o<0||a<0)throw new n.ErrnoError(28);if(n.isClosed(e))throw new n.ErrnoError(8);if(!(2097155&e.flags))throw new n.ErrnoError(8);if(n.isDir(e.node.mode))throw new n.ErrnoError(31);if(!e.stream_ops.write)throw new n.ErrnoError(28);e.seekable&&1024&e.flags&&n.llseek(e,0,2);var l=a!==void 0;if(l){if(!e.seekable)throw new n.ErrnoError(70)}else a=e.position;var d=e.stream_ops.write(e,r,t,o,a,f);return l||(e.position+=d),d},allocate:(e,r,t)=>{if(n.isClosed(e))throw new n.ErrnoError(8);if(r<0||t<=0)throw new n.ErrnoError(28);if(!(2097155&e.flags))throw new n.ErrnoError(8);if(!n.isFile(e.node.mode)&&!n.isDir(e.node.mode))throw new n.ErrnoError(43);if(!e.stream_ops.allocate)throw new n.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:(e,r,t,o,a,f)=>{if(2&a&&!(2&f)&&(2097155&e.flags)!=2)throw new n.ErrnoError(2);if((2097155&e.flags)==1)throw new n.ErrnoError(2);if(!e.stream_ops.mmap)throw new n.ErrnoError(43);return e.stream_ops.mmap(e,r,t,o,a,f)},msync:(e,r,t,o,a)=>e&&e.stream_ops.msync?e.stream_ops.msync(e,r,t,o,a):0,munmap:e=>0,ioctl:(e,r,t)=>{if(!e.stream_ops.ioctl)throw new n.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:(e,r={})=>{if(r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error('Invalid encoding type "'+r.encoding+'"');var t,o=n.open(e,r.flags),a=n.stat(e).size,f=new Uint8Array(a);return n.read(o,f,0,a,0),r.encoding==="utf8"?t=ze(f,0):r.encoding==="binary"&&(t=f),n.close(o),t},writeFile:(e,r,t={})=>{t.flags=t.flags||577;var o=n.open(e,t.flags,t.mode);if(typeof r=="string"){var a=new Uint8Array(Fr(r)+1),f=Or(r,a,0,a.length);n.write(o,a,0,f,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");n.write(o,r,0,r.byteLength,void 0,t.canOwn)}n.close(o)},cwd:()=>n.currentPath,chdir:e=>{var r=n.lookupPath(e,{follow:!0});if(r.node===null)throw new n.ErrnoError(44);if(!n.isDir(r.node.mode))throw new n.ErrnoError(54);var t=n.nodePermissions(r.node,"x");if(t)throw new n.ErrnoError(t);n.currentPath=r.path},createDefaultDirectories:()=>{n.mkdir("/tmp"),n.mkdir("/home"),n.mkdir("/home/web_user")},createDefaultDevices:()=>{n.mkdir("/dev"),n.registerDevice(n.makedev(1,3),{read:()=>0,write:(r,t,o,a,f)=>a}),n.mkdev("/dev/null",n.makedev(1,3)),De.register(n.makedev(5,0),De.default_tty_ops),De.register(n.makedev(6,0),De.default_tty1_ops),n.mkdev("/dev/tty",n.makedev(5,0)),n.mkdev("/dev/tty1",n.makedev(6,0));var e=xt();n.createDevice("/dev","random",e),n.createDevice("/dev","urandom",e),n.mkdir("/dev/shm"),n.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{n.mkdir("/proc");var e=n.mkdir("/proc/self");n.mkdir("/proc/self/fd"),n.mount({mount:()=>{var r=n.createNode(e,"fd",16895,73);return r.node_ops={lookup:(t,o)=>{var a=+o,f=n.getStream(a);if(!f)throw new n.ErrnoError(8);var l={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>f.path}};return l.parent=l,l}},r}},{},"/proc/self/fd")},createStandardStreams:()=>{s.stdin?n.createDevice("/dev","stdin",s.stdin):n.symlink("/dev/tty","/dev/stdin"),s.stdout?n.createDevice("/dev","stdout",null,s.stdout):n.symlink("/dev/tty","/dev/stdout"),s.stderr?n.createDevice("/dev","stderr",null,s.stderr):n.symlink("/dev/tty1","/dev/stderr"),n.open("/dev/stdin",0),n.open("/dev/stdout",1),n.open("/dev/stderr",1)},ensureErrnoError:()=>{n.ErrnoError||(n.ErrnoError=function(e,r){this.node=r,this.setErrno=function(t){this.errno=t},this.setErrno(e),this.message="FS error"},n.ErrnoError.prototype=new Error,n.ErrnoError.prototype.constructor=n.ErrnoError,[44].forEach(e=>{n.genericErrors[e]=new n.ErrnoError(e),n.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:()=>{n.ensureErrnoError(),n.nameTable=new Array(4096),n.mount(Y,{},"/"),n.createDefaultDirectories(),n.createDefaultDevices(),n.createSpecialDirectories(),n.filesystems={MEMFS:Y}},init:(e,r,t)=>{n.init.initialized=!0,n.ensureErrnoError(),s.stdin=e||s.stdin,s.stdout=r||s.stdout,s.stderr=t||s.stderr,n.createStandardStreams()},quit:()=>{n.init.initialized=!1;for(var e=0;e<n.streams.length;e++){var r=n.streams[e];r&&n.close(r)}},getMode:(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},findObject:(e,r)=>{var t=n.analyzePath(e,r);return t.exists?t.object:null},analyzePath:(e,r)=>{try{e=(o=n.lookupPath(e,{follow:!r})).path}catch{}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var o=n.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=o.path,t.parentObject=o.node,t.name=J.basename(e),o=n.lookupPath(e,{follow:!r}),t.exists=!0,t.path=o.path,t.object=o.node,t.name=o.node.name,t.isRoot=o.path==="/"}catch(a){t.error=a.errno}return t},createPath:(e,r,t,o)=>{e=typeof e=="string"?e:n.getPath(e);for(var a=r.split("/").reverse();a.length;){var f=a.pop();if(f){var l=J.join2(e,f);try{n.mkdir(l)}catch{}e=l}}return l},createFile:(e,r,t,o,a)=>{var f=J.join2(typeof e=="string"?e:n.getPath(e),r),l=n.getMode(o,a);return n.create(f,l)},createDataFile:(e,r,t,o,a,f)=>{var l=r;e&&(e=typeof e=="string"?e:n.getPath(e),l=r?J.join2(e,r):e);var d=n.getMode(o,a),E=n.create(l,d);if(t){if(typeof t=="string"){for(var x=new Array(t.length),F=0,C=t.length;F<C;++F)x[F]=t.charCodeAt(F);t=x}n.chmod(E,146|d);var A=n.open(E,577);n.write(A,t,0,t.length,0,f),n.close(A),n.chmod(E,d)}return E},createDevice:(e,r,t,o)=>{var a=J.join2(typeof e=="string"?e:n.getPath(e),r),f=n.getMode(!!t,!!o);n.createDevice.major||(n.createDevice.major=64);var l=n.makedev(n.createDevice.major++,0);return n.registerDevice(l,{open:d=>{d.seekable=!1},close:d=>{o&&o.buffer&&o.buffer.length&&o(10)},read:(d,E,x,F,C)=>{for(var A=0,P=0;P<F;P++){var V;try{V=t()}catch{throw new n.ErrnoError(29)}if(V===void 0&&A===0)throw new n.ErrnoError(6);if(V==null)break;A++,E[x+P]=V}return A&&(d.node.timestamp=Date.now()),A},write:(d,E,x,F,C)=>{for(var A=0;A<F;A++)try{o(E[x+A])}catch{throw new n.ErrnoError(29)}return F&&(d.node.timestamp=Date.now()),A}}),n.mkdev(a,f,l)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Je)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Dr(Je(e.url),!0),e.usedBytes=e.contents.length}catch{throw new n.ErrnoError(29)}},createLazyFile:(e,r,t,o,a)=>{function f(){this.lengthKnown=!1,this.chunks=[]}if(f.prototype.get=function(F){if(!(F>this.length-1||F<0)){var C=F%this.chunkSize,A=F/this.chunkSize|0;return this.getter(A)[C]}},f.prototype.setDataGetter=function(F){this.getter=F},f.prototype.cacheLength=function(){var F=new XMLHttpRequest;if(F.open("HEAD",t,!1),F.send(null),!(F.status>=200&&F.status<300||F.status===304))throw new Error("Couldn't load "+t+". Status: "+F.status);var C,A=Number(F.getResponseHeader("Content-length")),P=(C=F.getResponseHeader("Accept-Ranges"))&&C==="bytes",V=(C=F.getResponseHeader("Content-Encoding"))&&C==="gzip",S=1048576;P||(S=A);var q=this;q.setDataGetter(y=>{var h=y*S,_=(y+1)*S-1;if(_=Math.min(_,A-1),q.chunks[y]===void 0&&(q.chunks[y]=((U,L)=>{if(U>L)throw new Error("invalid range ("+U+", "+L+") or no bytes requested!");if(L>A-1)throw new Error("only "+A+" bytes available! programmer error!");var z=new XMLHttpRequest;if(z.open("GET",t,!1),A!==S&&z.setRequestHeader("Range","bytes="+U+"-"+L),z.responseType="arraybuffer",z.overrideMimeType&&z.overrideMimeType("text/plain; charset=x-user-defined"),z.send(null),!(z.status>=200&&z.status<300||z.status===304))throw new Error("Couldn't load "+t+". Status: "+z.status);return z.response!==void 0?new Uint8Array(z.response||[]):Dr(z.responseText||"",!0)})(h,_)),q.chunks[y]===void 0)throw new Error("doXHR failed!");return q.chunks[y]}),!V&&A||(S=A=1,A=this.getter(0).length,S=A,Er("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=A,this._chunkSize=S,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Le)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var l=new f;Object.defineProperties(l,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var d={isDevice:!1,contents:l}}else d={isDevice:!1,url:t};var E=n.createFile(e,r,d,o,a);d.contents?E.contents=d.contents:d.url&&(E.contents=null,E.url=d.url),Object.defineProperties(E,{usedBytes:{get:function(){return this.contents.length}}});var x={};return Object.keys(E.stream_ops).forEach(F=>{var C=E.stream_ops[F];x[F]=function(){return n.forceLoadFile(E),C.apply(null,arguments)}}),x.read=(F,C,A,P,V)=>{n.forceLoadFile(E);var S=F.node.contents;if(V>=S.length)return 0;var q=Math.min(S.length-V,P);if(S.slice)for(var y=0;y<q;y++)C[A+y]=S[V+y];else for(y=0;y<q;y++)C[A+y]=S.get(V+y);return q},E.stream_ops=x,E},createPreloadedFile:(e,r,t,o,a,f,l,d,E,x)=>{var F=r?be.resolve(J.join2(e,r)):e;function C(A){function P(V){x&&x(),d||n.createDataFile(e,r,V,o,a,E),f&&f(),Sr()}Browser.handledByPreloadPlugin(A,F,P,()=>{l&&l(),Sr()})||P(A)}Qr(),typeof t=="string"?Nt(t,A=>C(A),l):C(t)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(e,r,t)=>{r=r||(()=>{}),t=t||(()=>{});var o=n.indexedDB();try{var a=o.open(n.DB_NAME(),n.DB_VERSION)}catch(f){return t(f)}a.onupgradeneeded=()=>{Er("creating db"),a.result.createObjectStore(n.DB_STORE_NAME)},a.onsuccess=()=>{var f=a.result.transaction([n.DB_STORE_NAME],"readwrite"),l=f.objectStore(n.DB_STORE_NAME),d=0,E=0,x=e.length;function F(){E==0?r():t()}e.forEach(C=>{var A=l.put(n.analyzePath(C).object.contents,C);A.onsuccess=()=>{++d+E==x&&F()},A.onerror=()=>{d+ ++E==x&&F()}}),f.onerror=t},a.onerror=t},loadFilesFromDB:(e,r,t)=>{r=r||(()=>{}),t=t||(()=>{});var o=n.indexedDB();try{var a=o.open(n.DB_NAME(),n.DB_VERSION)}catch(f){return t(f)}a.onupgradeneeded=t,a.onsuccess=()=>{var f=a.result;try{var l=f.transaction([n.DB_STORE_NAME],"readonly")}catch(A){return void t(A)}var d=l.objectStore(n.DB_STORE_NAME),E=0,x=0,F=e.length;function C(){x==0?r():t()}e.forEach(A=>{var P=d.get(A);P.onsuccess=()=>{n.analyzePath(A).exists&&n.unlink(A),n.createDataFile(J.dirname(A),J.basename(A),P.result,!0,!0,!0),++E+x==F&&C()},P.onerror=()=>{E+ ++x==F&&C()}}),l.onerror=t},a.onerror=t}};s.FS=n;var re={DEFAULT_POLLMASK:5,calculateAt:function(e,r,t){if(r[0]==="/")return r;var o;if(e===-100)o=n.cwd();else{var a=n.getStream(e);if(!a)throw new n.ErrnoError(8);o=a.path}if(r.length==0){if(!t)throw new n.ErrnoError(44);return o}return J.join2(o,r)},doStat:function(e,r,t){try{var o=e(r)}catch(a){if(a&&a.node&&J.normalize(r)!==J.normalize(n.getPath(a.node)))return-54;throw a}return R[t>>2]=o.dev,R[t+4>>2]=0,R[t+8>>2]=o.ino,R[t+12>>2]=o.mode,R[t+16>>2]=o.nlink,R[t+20>>2]=o.uid,R[t+24>>2]=o.gid,R[t+28>>2]=o.rdev,R[t+32>>2]=0,Se=[o.size>>>0,(ie=o.size,+Math.abs(ie)>=1?ie>0?(0|Math.min(+Math.floor(ie/4294967296),4294967295))>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)],R[t+40>>2]=Se[0],R[t+44>>2]=Se[1],R[t+48>>2]=4096,R[t+52>>2]=o.blocks,R[t+56>>2]=o.atime.getTime()/1e3|0,R[t+60>>2]=0,R[t+64>>2]=o.mtime.getTime()/1e3|0,R[t+68>>2]=0,R[t+72>>2]=o.ctime.getTime()/1e3|0,R[t+76>>2]=0,Se=[o.ino>>>0,(ie=o.ino,+Math.abs(ie)>=1?ie>0?(0|Math.min(+Math.floor(ie/4294967296),4294967295))>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)],R[t+80>>2]=Se[0],R[t+84>>2]=Se[1],0},doMsync:function(e,r,t,o,a){var f=Ae.slice(e,e+t);n.msync(r,f,a,t,o)},doMkdir:function(e,r){return(e=J.normalize(e))[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),n.mkdir(e,r,0),0},doMknod:function(e,r,t){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return n.mknod(e,r,t),0},doReadlink:function(e,r,t){if(t<=0)return-28;var o=n.readlink(e),a=Math.min(t,Fr(o)),f=le[r+a];return On(o,r,t+1),le[r+a]=f,a},doAccess:function(e,r){if(-8&r)return-28;var t=n.lookupPath(e,{follow:!0}).node;if(!t)return-44;var o="";return 4&r&&(o+="r"),2&r&&(o+="w"),1&r&&(o+="x"),o&&n.nodePermissions(t,o)?-2:0},doDup:function(e,r,t){var o=n.getStream(t);return o&&n.close(o),n.open(e,r,0,t,t).fd},doReadv:function(e,r,t,o){for(var a=0,f=0;f<t;f++){var l=R[r+8*f>>2],d=R[r+(8*f+4)>>2],E=n.read(e,le,l,d,o);if(E<0)return-1;if(a+=E,E<d)break}return a},doWritev:function(e,r,t,o){for(var a=0,f=0;f<t;f++){var l=R[r+8*f>>2],d=R[r+(8*f+4)>>2],E=n.write(e,le,l,d,o);if(E<0)return-1;a+=E}return a},varargs:void 0,get:function(){return re.varargs+=4,R[re.varargs-4>>2]},getStr:function(e){return Te(e)},getStreamFromFD:function(e){var r=n.getStream(e);if(!r)throw new n.ErrnoError(8);return r},get64:function(e,r){return e}};function Pt(e,r,t){re.varargs=t;try{var o=re.getStreamFromFD(e);switch(r){case 0:return(a=re.get())<0?-28:n.open(o.path,o.flags,0,a).fd;case 1:case 2:return 0;case 3:return o.flags;case 4:var a=re.get();return o.flags|=a,0;case 5:return a=re.get(),pt[a+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Rt(28),-1;default:return-28}}catch(f){if(n===void 0||!(f instanceof n.ErrnoError))throw f;return-f.errno}}function jt(e,r,t){try{var o=re.get64(r,t);return n.ftruncate(e,o),0}catch(a){if(n===void 0||!(a instanceof n.ErrnoError))throw a;return-a.errno}}function Ct(e,r,t){re.varargs=t;try{var o=re.getStreamFromFD(e);switch(r){case 21509:case 21505:return o.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return o.tty?0:-59;case 21519:if(!o.tty)return-59;var a=re.get();return R[a>>2]=0,0;case 21520:return o.tty?-28:-59;case 21531:return a=re.get(),n.ioctl(o,r,a);case 21523:case 21524:return o.tty?0:-59;default:Ee("bad ioctl syscall "+r)}}catch(f){if(n===void 0||!(f instanceof n.ErrnoError))throw f;return-f.errno}}function Bt(e,r,t){re.varargs=t;try{var o=re.getStr(e),a=t?re.get():0;return n.open(o,r,a).fd}catch(f){if(n===void 0||!(f instanceof n.ErrnoError))throw f;return-f.errno}}function Lt(e,r){var t=new Date(1e3*R[e>>2]);R[r>>2]=t.getSeconds(),R[r+4>>2]=t.getMinutes(),R[r+8>>2]=t.getHours(),R[r+12>>2]=t.getDate(),R[r+16>>2]=t.getMonth(),R[r+20>>2]=t.getFullYear()-1900,R[r+24>>2]=t.getDay();var o=new Date(t.getFullYear(),0,1),a=(t.getTime()-o.getTime())/864e5|0;R[r+28>>2]=a,R[r+36>>2]=-60*t.getTimezoneOffset();var f=new Date(t.getFullYear(),6,1).getTimezoneOffset(),l=o.getTimezoneOffset(),d=0|(f!=l&&t.getTimezoneOffset()==Math.min(l,f));R[r+32>>2]=d}function zt(e,r,t){var o=new Date().getFullYear(),a=new Date(o,0,1),f=new Date(o,6,1),l=a.getTimezoneOffset(),d=f.getTimezoneOffset(),E=Math.max(l,d);function x(V){var S=V.toTimeString().match(/\(([A-Za-z ]+)\)$/);return S?S[1]:"GMT"}R[e>>2]=60*E,R[r>>2]=+(l!=d);var F=x(a),C=x(f),A=ct(F),P=ct(C);d<l?(R[t>>2]=A,R[t+4>>2]=P):(R[t>>2]=P,R[t+4>>2]=A)}function kr(e,r,t){kr.called||(kr.called=!0,zt(e,r,t))}function Ut(){Ee("")}s.SYSCALLS=re,s.___syscall_fcntl64=Pt,s.___syscall_ftruncate64=jt,s.___syscall_ioctl=Ct,s.___syscall_open=Bt,s.__localtime_js=Lt,s._tzset_impl=zt,s.__tzset_js=kr,s._abort=Ut;var yr=[];function Ht(e,r){var t;for(yr.length=0,r>>=2;t=Ae[e++];){var o=t<105;o&&1&r&&r++,yr.push(o?ht[r++>>1]:R[r]),++r}return yr}function Wt(e,r,t){var o=Ht(r,t);return Yn[e].apply(null,o)}function qt(e,r,t){Ae.copyWithin(e,r,r+t)}function $n(){return Ae.length}function Yt(e){Ee("OOM")}function Gt(e){Ae.length,Yt()}function Xt(e){}s.readAsmConstArgsArray=yr,s.readAsmConstArgs=Ht,s._emscripten_asm_const_int=Wt,s._emscripten_memcpy_big=qt,s._emscripten_get_heap_max=$n,s.abortOnCannotGrowMemory=Yt,s._emscripten_resize_heap=Gt,s._emscripten_run_script=Xt;var wr={};function Vt(){return Gr||"./this.program"}function He(){if(!He.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Vt()};for(var r in wr)wr[r]===void 0?delete e[r]:e[r]=wr[r];var t=[];for(var r in e)t.push(r+"="+e[r]);He.strings=t}return He.strings}function Jt(e,r){var t=0;return He().forEach(function(o,a){var f=r+t;R[e+4*a>>2]=f,Rn(o,f),t+=o.length+1}),0}function Qt(e,r){var t=He();R[e>>2]=t.length;var o=0;return t.forEach(function(a){o+=a.length+1}),R[r>>2]=o,0}function Zt(e){try{var r=re.getStreamFromFD(e);return n.close(r),0}catch(t){if(n===void 0||!(t instanceof n.ErrnoError))throw t;return t.errno}}function $t(e,r,t,o){try{var a=re.getStreamFromFD(e),f=re.doReadv(a,r,t);return R[o>>2]=f,0}catch(l){if(n===void 0||!(l instanceof n.ErrnoError))throw l;return l.errno}}function Kt(e,r,t,o,a){try{var f=re.getStreamFromFD(e),l=4294967296*t+(r>>>0);return l<=-9007199254740992||l>=9007199254740992?-61:(n.llseek(f,l,o),Se=[f.position>>>0,(ie=f.position,+Math.abs(ie)>=1?ie>0?(0|Math.min(+Math.floor(ie/4294967296),4294967295))>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)],R[a>>2]=Se[0],R[a+4>>2]=Se[1],f.getdents&&l===0&&o===0&&(f.getdents=null),0)}catch(d){if(n===void 0||!(d instanceof n.ErrnoError))throw d;return d.errno}}function en(e,r,t,o){try{var a=re.getStreamFromFD(e),f=re.doWritev(a,r,t);return R[o>>2]=f,0}catch(l){if(n===void 0||!(l instanceof n.ErrnoError))throw l;return l.errno}}function rn(e){}function Ze(e){return e%4==0&&(e%100!=0||e%400==0)}function _r(e,r){for(var t=0,o=0;o<=r;t+=e[o++]);return t}s.ENV=wr,s.getExecutableName=Vt,s.getEnvStrings=He,s._environ_get=Jt,s._environ_sizes_get=Qt,s._fd_close=Zt,s._fd_read=$t,s._fd_seek=Kt,s._fd_write=en,s._setTempRet0=rn,s.__isLeapYear=Ze,s.__arraySum=_r;var $e=[31,29,31,30,31,30,31,31,30,31,30,31];s.__MONTH_DAYS_LEAP=$e;var Ke=[31,28,31,30,31,30,31,31,30,31,30,31];function Ve(e,r){for(var t=new Date(e.getTime());r>0;){var o=Ze(t.getFullYear()),a=t.getMonth(),f=(o?$e:Ke)[a];if(!(r>f-t.getDate()))return t.setDate(t.getDate()+r),t;r-=f-t.getDate()+1,t.setDate(1),a<11?t.setMonth(a+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return t}function tn(e,r,t,o){var a=R[o+40>>2],f={tm_sec:R[o>>2],tm_min:R[o+4>>2],tm_hour:R[o+8>>2],tm_mday:R[o+12>>2],tm_mon:R[o+16>>2],tm_year:R[o+20>>2],tm_wday:R[o+24>>2],tm_yday:R[o+28>>2],tm_isdst:R[o+32>>2],tm_gmtoff:R[o+36>>2],tm_zone:a?Te(a):""},l=Te(t),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var E in d)l=l.replace(new RegExp(E,"g"),d[E]);var x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],F=["January","February","March","April","May","June","July","August","September","October","November","December"];function C(h,_,U){for(var L=typeof h=="number"?h.toString():h||"";L.length<_;)L=U[0]+L;return L}function A(h,_){return C(h,_,"0")}function P(h,_){function U(z){return z<0?-1:z>0?1:0}var L;return(L=U(h.getFullYear()-_.getFullYear()))===0&&(L=U(h.getMonth()-_.getMonth()))===0&&(L=U(h.getDate()-_.getDate())),L}function V(h){switch(h.getDay()){case 0:return new Date(h.getFullYear()-1,11,29);case 1:return h;case 2:return new Date(h.getFullYear(),0,3);case 3:return new Date(h.getFullYear(),0,2);case 4:return new Date(h.getFullYear(),0,1);case 5:return new Date(h.getFullYear()-1,11,31);case 6:return new Date(h.getFullYear()-1,11,30)}}function S(h){var _=Ve(new Date(h.tm_year+1900,0,1),h.tm_yday),U=new Date(_.getFullYear(),0,4),L=new Date(_.getFullYear()+1,0,4),z=V(U),$=V(L);return P(z,_)<=0?P($,_)<=0?_.getFullYear()+1:_.getFullYear():_.getFullYear()-1}var q={"%a":function(h){return x[h.tm_wday].substring(0,3)},"%A":function(h){return x[h.tm_wday]},"%b":function(h){return F[h.tm_mon].substring(0,3)},"%B":function(h){return F[h.tm_mon]},"%C":function(h){return A((h.tm_year+1900)/100|0,2)},"%d":function(h){return A(h.tm_mday,2)},"%e":function(h){return C(h.tm_mday,2," ")},"%g":function(h){return S(h).toString().substring(2)},"%G":function(h){return S(h)},"%H":function(h){return A(h.tm_hour,2)},"%I":function(h){var _=h.tm_hour;return _==0?_=12:_>12&&(_-=12),A(_,2)},"%j":function(h){return A(h.tm_mday+_r(Ze(h.tm_year+1900)?$e:Ke,h.tm_mon-1),3)},"%m":function(h){return A(h.tm_mon+1,2)},"%M":function(h){return A(h.tm_min,2)},"%n":function(){return`
`},"%p":function(h){return h.tm_hour>=0&&h.tm_hour<12?"AM":"PM"},"%S":function(h){return A(h.tm_sec,2)},"%t":function(){return"	"},"%u":function(h){return h.tm_wday||7},"%U":function(h){var _=new Date(h.tm_year+1900,0,1),U=_.getDay()===0?_:Ve(_,7-_.getDay()),L=new Date(h.tm_year+1900,h.tm_mon,h.tm_mday);if(P(U,L)<0){var z=_r(Ze(L.getFullYear())?$e:Ke,L.getMonth()-1)-31,$=31-U.getDate()+z+L.getDate();return A(Math.ceil($/7),2)}return P(U,_)===0?"01":"00"},"%V":function(h){var _,U=new Date(h.tm_year+1900,0,4),L=new Date(h.tm_year+1901,0,4),z=V(U),$=V(L),ee=Ve(new Date(h.tm_year+1900,0,1),h.tm_yday);return P(ee,z)<0?"53":P($,ee)<=0?"01":(_=z.getFullYear()<h.tm_year+1900?h.tm_yday+32-z.getDate():h.tm_yday+1-z.getDate(),A(Math.ceil(_/7),2))},"%w":function(h){return h.tm_wday},"%W":function(h){var _=new Date(h.tm_year,0,1),U=_.getDay()===1?_:Ve(_,_.getDay()===0?1:7-_.getDay()+1),L=new Date(h.tm_year+1900,h.tm_mon,h.tm_mday);if(P(U,L)<0){var z=_r(Ze(L.getFullYear())?$e:Ke,L.getMonth()-1)-31,$=31-U.getDate()+z+L.getDate();return A(Math.ceil($/7),2)}return P(U,_)===0?"01":"00"},"%y":function(h){return(h.tm_year+1900).toString().substring(2)},"%Y":function(h){return h.tm_year+1900},"%z":function(h){var _=h.tm_gmtoff,U=_>=0;return _=(_=Math.abs(_)/60)/60*100+_%60,(U?"+":"-")+("0000"+_).slice(-4)},"%Z":function(h){return h.tm_zone},"%%":function(){return"%"}};for(var E in l=l.replace(/%%/g,"\0\0"),q)l.includes(E)&&(l=l.replace(new RegExp(E,"g"),q[E](f)));var y=Dr(l=l.replace(/\0\0/g,"%"),!1);return y.length>r?0:(Fn(y,e),y.length-1)}function nn(e,r,t,o){return tn(e,r,t,o)}function on(e){var r=Date.now()/1e3|0;return e&&(R[e>>2]=r),r}s.__MONTH_DAYS_REGULAR=Ke,s.__addDays=Ve,s._strftime=tn,s._strftime_l=nn,s._time=on;var lt=function(e,r,t,o){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=n.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=o},hr=365,vr=146;function Dr(e,r,t){var o=Fr(e)+1,a=new Array(o),f=Or(e,a,0,a.length);return r&&(a.length=f),a}Object.defineProperties(lt.prototype,{read:{get:function(){return(this.mode&hr)===hr},set:function(e){e?this.mode|=hr:this.mode&=~hr}},write:{get:function(){return(this.mode&vr)===vr},set:function(e){e?this.mode|=vr:this.mode&=~vr}},isFolder:{get:function(){return n.isDir(this.mode)}},isDevice:{get:function(){return n.isChrdev(this.mode)}}}),n.FSNode=lt,n.staticInit();var Ar,Kn={a:Dt,c:At,b:Ft,h:Pt,w:jt,v:Ct,u:Bt,p:Lt,o:kr,f:Ut,n:Wt,m:qt,d:Gt,e:Xt,t:Jt,s:Qt,g:Zt,r:$t,l:Kt,q:en,k:rn,j:nn,i:on};qn();s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.y).apply(null,arguments)};var Zr=s._malloc=function(){return(Zr=s._malloc=s.asm.z).apply(null,arguments)};s._realloc=function(){return(s._realloc=s.asm.A).apply(null,arguments)};s._setSampleRate=function(){return(s._setSampleRate=s.asm.B).apply(null,arguments)};s._main=function(){return(s._main=s.asm.C).apply(null,arguments)};s._prepareRomBuffer=function(){return(s._prepareRomBuffer=s.asm.D).apply(null,arguments)};s._getSymbol=function(){return(s._getSymbol=s.asm.E).apply(null,arguments)};s._loadROM=function(){return(s._loadROM=s.asm.F).apply(null,arguments)};s._savGetSize=function(){return(s._savGetSize=s.asm.G).apply(null,arguments)};s._savGetPointer=function(){return(s._savGetPointer=s.asm.H).apply(null,arguments)};s._savUpdateChangeFlag=function(){return(s._savUpdateChangeFlag=s.asm.I).apply(null,arguments)};s._runFrame=function(){return(s._runFrame=s.asm.J).apply(null,arguments)};s._fillAudioBuffer=function(){return(s._fillAudioBuffer=s.asm.K).apply(null,arguments)};s._zlibCompress=function(){return(s._zlibCompress=s.asm.L).apply(null,arguments)};s._zlibDecompress=function(){return(s._zlibDecompress=s.asm.M).apply(null,arguments)};s._chtGetList=function(){return(s._chtGetList=s.asm.N).apply(null,arguments)};s._chtAddItem=function(){return(s._chtAddItem=s.asm.O).apply(null,arguments)};s._utilStrLen=function(){return(s._utilStrLen=s.asm.P).apply(null,arguments)};s._micWriteSamples=function(){return(s._micWriteSamples=s.asm.Q).apply(null,arguments)};var an=s.___errno_location=function(){return(an=s.___errno_location=s.asm.R).apply(null,arguments)};s._htons=function(){return(s._htons=s.asm.T).apply(null,arguments)};var sn=s.stackSave=function(){return(sn=s.stackSave=s.asm.U).apply(null,arguments)},un=s.stackRestore=function(){return(un=s.stackRestore=s.asm.V).apply(null,arguments)};s.stackAlloc=function(){return(s.stackAlloc=s.asm.W).apply(null,arguments)};s.dynCall_jiji=function(){return(s.dynCall_jiji=s.asm.X).apply(null,arguments)};s.dynCall_viijii=function(){return(s.dynCall_viijii=s.asm.Y).apply(null,arguments)};s.dynCall_iiiiij=function(){return(s.dynCall_iiiiij=s.asm.Z).apply(null,arguments)};s.dynCall_iiiiijj=function(){return(s.dynCall_iiiiijj=s.asm._).apply(null,arguments)};s.dynCall_iiiiiijj=function(){return(s.dynCall_iiiiiijj=s.asm.$).apply(null,arguments)};function Rr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}s.UTF8ToString=Te;function eo(e){var r=s._main;try{var t=r(0,0);return ro(t,!0),t}catch(o){return St(o)}finally{}}function Yr(e){function r(){Ar||(Ar=!0,s.calledRun=!0,Vr||(jn(),Cn(),s.onRuntimeInitialized&&s.onRuntimeInitialized(),cn&&eo(),Bn()))}Ne>0||(Pn(),Ne>0||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),r()},1)):r()))}function ro(e,r){Ir=e,to(e)}function to(e){Ir=e,wt()||(s.onExit&&s.onExit(e),Vr=!0),Mr(e,new Rr(e))}if(Qe=function e(){Ar||Yr(),Ar||(Qe=e)},s.run=Yr,s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();var cn=!0;s.noInitialRun&&(cn=!1),Yr();document.addEventListener("DOMContentLoaded",function(){document.querySelector("desmond-player").loadURL("./JuegoEC.nds",function(){})});no(document.getElementById("code"));function no(e,r){var t=document.getElementById(e)||e,o=t.innerHTML,a="mediumblue",f="brown",l="red",d="mediumblue",E="green",x="brown",F="red",C="mediumblue",A="black",P="red",V="black",S="mediumblue",q="brown",y="red",h="black";t.style.fontFamily="Consolas,'Courier New', monospace",o=U(o),t.innerHTML=o;function _(j,g,H,N,M){for(var I,B,G="",ne=[];j.search(g)>-1;)I=j.search(g),B=j.indexOf(H,I),B==-1&&(B=j.length),M?(ne.push(N(j.substring(I,B+H.length))),j=j.substring(0,I)+M+j.substr(B+H.length)):(G+=j.substring(0,I),G+=N(j.substring(I,B+H.length)),j=j.substr(B+H.length));this.rest=G+j,this.arr=ne}function U(j){var g=j,H="",N,M,I,B,G;for(N=new _(g,"&lt;!--","--&gt;",ee,"W3HTMLCOMMENTPOS"),g=N.rest;g.indexOf("&lt;")>-1;)B="",M=g.indexOf("&lt;"),g.substr(M,9).toUpperCase()=="&LT;STYLE"&&(B="css"),g.substr(M,10).toUpperCase()=="&LT;SCRIPT"&&(B="javascript"),I=g.indexOf("&gt;",M),I==-1&&(I=g.length),H+=g.substring(0,M),H+=L(g.substring(M,I+4)),g=g.substr(I+4),B=="css"&&(I=g.indexOf("&lt;/style&gt;"),I>-1&&(H+=ce(g.substring(0,I)),g=g.substr(I))),B=="javascript"&&(I=g.indexOf("&lt;/script&gt;"),I>-1&&(H+=ue(g.substring(0,I)),g=g.substr(I)));for(g=H+g,G=0;G<N.arr.length;G++)g=g.replace("W3HTMLCOMMENTPOS",N.arr[G]);return g}function L(j){for(var g=j,H="",N,M,I;g.search(/(\s|<br>)/)>-1;)N=g.search(/(\s|<br>)/),M=g.indexOf("&gt;"),M==-1&&(M=g.length),H+=g.substring(0,N),H+=z(g.substring(N,M)),g=g.substr(M);return I=H+g,I="<span style=color:"+a+">&lt;</span>"+I.substring(4),I.substr(I.length-4,4)=="&gt;"&&(I=I.substring(0,I.length-4)+"<span style=color:"+a+">&gt;</span>"),"<span style=color:"+f+">"+I+"</span>"}function z(j){for(var g=j,H="",N,M,I,B,G;g.indexOf("=")>-1;)M=-1,N=g.indexOf("="),I=g.indexOf("'",N),B=g.indexOf('"',N),G=g.indexOf(" ",N+2),G>-1&&(G<I||I==-1)&&(G<B||B==-1)?M=g.indexOf(" ",N):B>-1&&(B<I||I==-1)&&(B<G||G==-1)?M=g.indexOf('"',g.indexOf('"',N)+1):I>-1&&(I<B||B==-1)&&(I<G||G==-1)&&(M=g.indexOf("'",g.indexOf("'",N)+1)),(!M||M==-1||M<N)&&(M=g.length),H+=g.substring(0,N),H+=$(g.substring(N,M+1)),g=g.substr(M+1);return"<span style=color:"+l+">"+H+g+"</span>"}function $(j){return"<span style=color:"+d+">"+j+"</span>"}function ee(j){return"<span style=color:"+E+">"+j+"</span>"}function ce(j){var g=j,H="",N,M,I,B,G,ne,ve;for(I=new _(g,/\/\*/,"*/",ee,"W3CSSCOMMENTPOS"),g=I.rest;g.search("{")>-1;){for(N=g.search("{"),G=g.substr(N+1),ve=1,ne=0,B=0;B<G.length&&(G.substr(B,1)=="{"&&(ve++,ne++),G.substr(B,1)=="}"&&ve--,ve!=0);B++);for(ve!=0&&(ne=0),M=N,B=0;B<=ne;B++)M=g.indexOf("}",M+1);M==-1&&(M=g.length),H+=g.substring(0,N+1),H+=oe(g.substring(N+1,M)),g=g.substr(M)}for(g=H+g,g=g.replace(/{/g,"<span style=color:"+A+">{</span>"),g=g.replace(/}/g,"<span style=color:"+A+">}</span>"),B=0;B<I.arr.length;B++)g=g.replace("W3CSSCOMMENTPOS",I.arr[B]);return"<span style=color:"+x+">"+g+"</span>"}function oe(j){var g=j,H="",N,M,I,B;if(g.indexOf("{")>-1)return ce(g);for(;g.search(":")>-1;){for(N=g.search(":"),B=!0,I=N;B==!0;)B=!1,M=g.indexOf(";",I),g.substring(M-5,M+1)=="&nbsp;"&&(B=!0,I=M+1);M==-1&&(M=g.length),H+=g.substring(0,N),H+=Me(g.substring(N,M+1)),g=g.substr(M+1)}return"<span style=color:"+F+">"+H+g+"</span>"}function Me(j){var g=j,H="",N;for(g="<span style=color:"+A+">:</span>"+g.substring(1);g.search(/!important/i)>-1;)N=g.search(/!important/i),H+=g.substring(0,N),H+=K(g.substring(N,N+10)),g=g.substr(N+10);return result=H+g,result.substr(result.length-1,1)==";"&&result.substr(result.length-6,6)!="&nbsp;"&&result.substr(result.length-4,4)!="&lt;"&&result.substr(result.length-4,4)!="&gt;"&&result.substr(result.length-5,5)!="&amp;"&&(result=result.substring(0,result.length-1)+"<span style=color:"+A+">;</span>"),"<span style=color:"+C+">"+result+"</span>"}function K(j){return"<span style=color:"+P+";font-weight:bold;>"+j+"</span>"}function ue(j){var g=j,H="",N=[],M,I,B="",G,ne,ve,Re,xe,Pe,se,We,qe;for(M=0;M<g.length;M++)I=g.substr(M,1),I=="\\"&&(N.push(g.substr(M,2)),I="W3JSESCAPE",M++),B+=I;for(g=B,qe=1;qe==1&&(G=Fe(g,"'","'",Z),ne=Fe(g,'"','"',Z),ve=Fe(g,/\/\*/,"*/",ee),Re=Fe(g,/\/\//,"<br>",ee),Pe=or(g,fe),xe=ye("js",g,te),We=de(g,pe),!(Math.max(Pe[0],G[0],ne[0],ve[0],Re[0],xe[0],We[0])==-1||(se=he(Pe,G,ne,ve,Re,xe,We),se[0]==-1)));)se[0]>-1&&(H+=g.substring(0,se[0]),H+=se[2](g.substring(se[0],se[1])),g=g.substr(se[1]));for(g=H+g,M=0;M<N.length;M++)g=g.replace("W3JSESCAPE",N[M]);return"<span style=color:"+V+">"+g+"</span>"}function Z(j){return"<span style=color:"+q+">"+j+"</span>"}function te(j){return"<span style=color:"+S+">"+j+"</span>"}function fe(j){return"<span style=color:"+y+">"+j+"</span>"}function pe(j){return"<span style=color:"+h+">"+j+"</span>"}function de(j,g){var H,N,M,I,B,G=[".","<"," ",";","(","+",")","[","]",",","&",":","{","}","/","-","*","|","%"];if(I=j.indexOf("."),I>-1){for(H=j.substr(I+1),M=0;M<H.length;M++)for(cc=H[M],N=0;N<G.length;N++)if(cc.indexOf(G[N])>-1)return B=M,[I+1,B+I+1,g]}return[-1,-1,g]}function he(){var j,g=[];for(j=0;j<arguments.length;j++)arguments[j][0]>-1&&(g.length==0||arguments[j][0]<g[0])&&(g=arguments[j]);return g.length==0&&(g=arguments[j]),g}function ye(j,g,H){var N,M,I,B=-1,G=-1,ne;for(N=["abstract","arguments","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete","do","double","else","enum","eval","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","NaN","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","volatile","while","with","yield"],M=0;M<N.length;M++)I=g.indexOf(N[M]),I>-1&&(ne=/\W/g,g.substr(I+N[M].length,1).match(ne)&&g.substr(I-1,1).match(ne)&&I>-1&&(B==-1||I<B)&&(B=I,G=B+N[M].length));return[B,G,H]}function Fe(j,g,H,N){var M,I;return M=j.search(g),I=j.indexOf(H,M+H.length),I==-1&&(I=j.length),[M,I+H.length,N]}function or(j,g){var H=["<br>"," ",";","(","+",")","[","]",",","&",":","{","}","/","-","*","|","%","="],N,M,I,B=0,G,ne;for(N=0;N<j.length;N++)for(M=0;M<H.length;M++)if(I=j.substr(N,H[M].length),I==H[M]){if(I=="-"&&(j.substr(N-1,1)=="e"||j.substr(N-1,1)=="E"))continue;if(G=N,B<G&&(ne=j.substring(B,G),!isNaN(ne)))return[B,G,g];N+=H[M].length,B=N,N-=1;break}return[-1,-1,g]}}});export default oo();
